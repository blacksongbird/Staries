<!DOCTYPE html>

<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Memory 4</title>
  <link rel="stylesheet" href="../../css/stylemym.css">
  <link rel="shortcut icon" href="../../logo.ico">
  <script src="../../js/removeBanner.js"></script>

</head>
<body>
<!-- partial:index.partial.html -->
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Montserrat+Alternates:600|Montserrat:500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/buttonmym.css">
  <link rel="stylesheet" href="../../css/playermym.css">
  <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
</head>

<body>
    <!-- update the version number as needed -->
<script defer src="../../__/firebase/7.14.6/firebase-app.js"></script>
<!-- include only the Firebase features as you need -->
<script defer src="../../__/firebase/7.14.6/firebase-auth.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-database.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-messaging.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-storage.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-firestore.js"></script>
<!-- initialize the SDK after all desired features are loaded -->
<script defer src="../../__/firebase/init.js"></script>
<script src="../../firebase-utils.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
      try {
        let app = firebase.app();
        StariesAccount.Observer();
      } catch (e) {
        console.error(e);
      }
    });
  </script>
  <div id="progress"></div>
<br>
        <div class="switch"><span class="switch-text">Dark Mode:</span>
            <span class="inner-switch">OFF</span>
        </div>
  <div class="container">
    <h1>Serpent</h1>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div id="app-cover">
        <div id="bg-artwork"></div>
        <div id="bg-layer"></div>
        <div id="player">
            <div id="player-track">
                <div id="album-name"></div>
                <div id="track-name"></div>
                <div id="track-time">
                    <div id="current-time"></div>
                    <div id="track-length"></div>
                </div>
                <div id="s-area">
                    <div id="ins-time"></div>
                    <div id="s-hover"></div>
                    <div id="seek-bar"></div>
                </div>
            </div>
            <div id="player-content">
                <div id="album-art">
                    <img src="../../img/mym/Memory4Art.png" class="active" id="_1">
                    <div id="buffer-box">Buffering ...</div>
                </div>
                <div id="player-controls">
                    <div class="control">
                        <div class="button" id="play-pause-button">
                            <ion-icon name="play-circle" id="iconoboton"></ion-icon>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <span class="byline">Memory 4</span><br><br><br>
    <span class="byline">Memories & Melodies - Gabriel Lobo</span>

      <p>Did you know that friendship between a boy and a girl tends to be one-sided? No? Well, it is true. I remember reading one time that the friendship is seen like that by the girl, while the boy tends to misunderstand the relationship, thinking it may be something else. This makes sense, of course, because it's clear that men are the ones who suffer rejections way more often than women. But there are exceptions. These unusual and wonderful exceptions in which the relationship becomes something different. A loving relationship is born from the core of friendship. And these relationships are the strongest of them all because they have their bases in a solid fraternity. But, as I said, this isn't something else than a beautiful casualty; a miracle.</p>

      <p>&emsp;&emsp;I've hardly seen a girl chasing a guy, but when it happens, usually is because the guy being chased is popular or a "perfect" guy. Don't take me wrong, I don't mean to seem jealous, and I don't dislike guys who seem to be popular. But I could like them more if they were truly good. But now, we all have something bad that we're trying to hide. What I hate are deceptive appearances. I prefer transparent people, or at least those who are good, but hide it —like Roy, for example—. It has taken me a lot to learn how to read people, and sometimes I'm still not able to read them completely. There's always something else, behind what's visible. Back to the topic. Rejection can hurt a lot, depending on the circumstances, and I do know a lot about it. A rejection can end friendships, destroy bonds and break people as easily as a betrayal. But trust me, a stab in the back can be worse than a rejection. Way worse.</p>

      <p>&emsp;&emsp;2016 passed with anything else to highlight, except for what's been mentioned in the past pages. Both Roy and I enjoyed our daily routine. We were in our best moments. Back then, high school was what I cared for the less. I was doing well, very well. I'm not presuming, but I need to write it if I want the changes that come next to be completely understandable. Half-year vacations arrived, and I spend my time playing games and missing Roy, Rebecca, and Tara, even though we met every once in a while, but it wasn't the same as meeting every day. And, of course, I missed Sea. We didn't talk that much, just enough to consider ourselves as friends. But anyway, days in which I didn't see her and she didn't text me became gray, and I didn't always have any excuses to text her or to be with her. But I was okay, and so was her. Or at least that's what I used to think.</p>

      <p>&emsp;&emsp;Classes started again, and everything came back to normal. The last trimester passed so fast that I didn't even notice it. A new girl had joined the group. Dalisha was nice, despite she didn't always get along that well with Tara and Rebecca; Roy and I were always in the middle of those dramas. But we were a great group, and we were doing very well. Even some innocent romances aroused between some of the members of the group. For example, Tara fell in love with Roy one time and, despite she didn't want to admit it, we all knew it was true.</p>

      <p>&emsp;&emsp;The other one was one-sided too. I started to get tired of trying to call Sea's attention so, for a fleeting time, I felt something for Rebecca. However, deep inside, I always knew that something like that would never happen between us. And, after all, I liked her to be my best friend a lot. So I chose to hide those feelings and didn't speak about it. And, until now, it is another thing that I can't regret. And before we realized, the course had ended, as good as it started. I was the second-best student of my generation and it is still something I envy from the old me. Everything was way much easier. Poor idiot, he didn't know shit about what was coming next.</p>

      <p>&emsp;&emsp;And that's when it started. I began as an accident. It was something that I never thought would happen to me, but it did. And you don't have any idea of how much I lost because of it. I'm used to reading, and a lot. I remember that, somewhere, I found that addictions are now also considered as sicknesses. They're serpents that stick their teeth in the deepest part of your mind, and little by little, drain your energy, your good-will and everything that's left, replacing it with an endless emptiness. And now, I was sick too. My serpent started to consume me after the end of the year. If I had known that it was a serpent back then, I would've got rid of it since the beginning. But that would've not been funny for the serpent, of course.</p>

      <p>&emsp;&emsp;It makes you believe that you're still in control when you're not, but for when you realize, you already did something that you're going to regret. It has been hard for me to deal with it. And I've suffered a lot because of my sickness. I don't know if I should blame God or my own addiction itself, but every bad thing that has happened in this story is because of the serpent of each of us; mainly mine. Obviously, we all sin a lot during our lives, but what differs good people from bad people isn't the fact if they sin or if they don't; it's what they do about it.</p>

      <p>&emsp;&emsp;Since then, I've been trying to free myself from my serpent once and again and again and again. Each time it took control of me, the consequences were never good. And that is why I mention it. Because without the serpent, maybe most of the bad things would've never happened, but neither the good ones. And you will see so soon. But I'm a little bit out of the topic. It isn't something that I'm going to write right now.</p>

      <p>&emsp;&emsp;Two months after finishing the course, I thought that my friendship with Sea may be able to become something else. Despite it started as a joke, little by little became something important.</p>

      <p>&emsp;&emsp;—Hey Sea. Look —I said while I showed her a picture from my phone. The picture showed a couple of black rings with a gold triangles design —Triforces, for the geeks out there— in the outside edges.</p>

      <p>&emsp;&emsp;—Wow! I love it! Hey Tyler. Marry me —she said, clearly joking, but I thought about that comment more than about any other thought during that week.</p>

      <p>&emsp;&emsp;—Good idea! I'll buy the rings and you get in charge of the food —I said, continuing with the joke.</p>

      <p>&emsp;&emsp;—Great! —she answered while laughing. Days after that, I went to the movie theater with Roy and his childhood friend —Alexander, for those who care a lot about details—. I approach that day to spend $12.99 and buy one of those rings to Sea. Then, I looked in other stores to get another one for me —despite it took me almost a month to find it—.</p>

      <p>On Monday of that same week, I gave her the ring as a present during our Spanish class, days before the course ended. I thought about telling her that I liked her when I gave it to her, but I decided to wait and ask her to go with me to a geek event in which I knew we both would be comfortable. The Gamecon was scheduled for December 15 and 16, which is why it was perfect. And she agreed on going with me —which was a surprise to me, of course—.</p>

      <p>And finally, no more flashbacks from seventh grade.</p>

      <p>&emsp;&emsp;When the day of the event arrived, Sea confirmed that she was going to come —she wasn't sure, but if she hadn't come, I would've probably joined Adam—. When she arrived —a little bit late, but I couldn't complain—, I paid her ticket —back then I didn't see it like something bad, I thought it was a gentlemanly gesture, but nowadays everybody gets offended if you paid a girl's ticket without she asking you to do so— and we went to see the several stands with their respective merchandise. The day passed and everything was fine, we even participated in a Super Smash Bross tournament —if you don't know what it is, there's this thing called Google that's available for you all—. Sea was the one who lasted the most, and it is no surprise, she is really good at that game.</p>

      <p>&emsp;&emsp;Lunchtime arrived, and then the afternoon —which passed way faster than I would've wanted—. When the event finally ended, Sea's brother came to pick her up and I left with my cousins and Adam back home. And no, there were not romantic moments nor any kind of cliche situations, because life is not a cliche.</p>


  </div>
  <div class="col-md-12 text-center"style="z-index: 5;" align="center">
    <a class="btn btn-coffee btn-border" href="../loaders/index5.html" style="z-index: 3; margin-left: auto;margin-bottom: 100px; outline: none;color: #800080; text-align: center;border-color: #800080;font-size:20px;">Next...</a>
    <br>
    <a class="btn btn-coffee btn-border" href="../../Memories & Melodies.html#service" style="z-index: 3; margin-left: auto;margin-top: -150px; outline: none;color: #57a639; text-align: center;border-color: #57a639;font-size:20px;">Back to Index</a>
  </div>

</body>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script  src="../../js/scriptread.js"></script>
  <link rel="stylesheet" href="../../css/dark.css">
    <script src="../../js/dark.js"></script>
  <script type="text/javascript">
  $(function()
{
    var playerTrack = $("#player-track"), bgArtwork = $('#bg-artwork'), bgArtworkUrl, albumName = $('#album-name'), trackName = $('#track-name'), albumArt = $('#album-art'), sArea = $('#s-area'), seekBar = $('#seek-bar'), trackTime = $('#track-time'), insTime = $('#ins-time'), sHover = $('#s-hover'), playPauseButton = $("#play-pause-button"),  i = playPauseButton.find('ion-icon'), tProgress = $('#current-time'), tTime = $('#track-length'), seekT, seekLoc, seekBarPos, cM, ctMinutes, ctSeconds, curMinutes, curSeconds, durMinutes, durSeconds, playProgress, bTime, nTime = 0, buffInterval = null, tFlag = false, albums = ['Weak'], trackNames = ['AJR'], albumArtworks = ['_1'], trackUrl = ['../../Melodías y Memorias/Memoria 4/memoria4.mp3'], playPreviousTrackButton = $('#play-previous'), playNextTrackButton = $('#play-next'), currIndex = -1;

    function playPause()
    {
        setTimeout(function()
        {
            if(audio.paused)
            {
                playerTrack.addClass('active');
                albumArt.addClass('active');
                checkBuffering();
                i.attr('name','pause');
                audio.play();
            }
            else
            {
                playerTrack.removeClass('active');
                albumArt.removeClass('active');
                clearInterval(buffInterval);
                albumArt.removeClass('buffering');
                i.attr('name','play-circle');
                audio.pause();
            }
        },300);
    }


	function showHover(event)
	{
		seekBarPos = sArea.offset();
		seekT = event.clientX - seekBarPos.left;
		seekLoc = audio.duration * (seekT / sArea.outerWidth());

		sHover.width(seekT);

		cM = seekLoc / 60;

		ctMinutes = Math.floor(cM);
		ctSeconds = Math.floor(seekLoc - ctMinutes * 60);

		if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

        if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

		if(ctMinutes < 10)
			ctMinutes = '0'+ctMinutes;
		if(ctSeconds < 10)
			ctSeconds = '0'+ctSeconds;

        if( isNaN(ctMinutes) || isNaN(ctSeconds) )
            insTime.text('--:--');
        else
		    insTime.text(ctMinutes+':'+ctSeconds);

		insTime.css({'left':seekT,'margin-left':'-21px'}).fadeIn(0);

	}

    function hideHover()
	{
        sHover.width(0);
        insTime.text('00:00').css({'left':'0px','margin-left':'0px'}).fadeOut(0);
    }

    function playFromClickedPos()
    {
        audio.currentTime = seekLoc;
		seekBar.width(seekT);
		hideHover();
    }

    function updateCurrTime()
	{
        nTime = new Date();
        nTime = nTime.getTime();

        if( !tFlag )
        {
            tFlag = true;
            trackTime.addClass('active');
        }

		curMinutes = Math.floor(audio.currentTime / 60);
		curSeconds = Math.floor(audio.currentTime - curMinutes * 60);

		durMinutes = Math.floor(audio.duration / 60);
		durSeconds = Math.floor(audio.duration - durMinutes * 60);

		playProgress = (audio.currentTime / audio.duration) * 100;

		if(curMinutes < 10)
			curMinutes = '0'+curMinutes;
		if(curSeconds < 10)
			curSeconds = '0'+curSeconds;

		if(durMinutes < 10)
			durMinutes = '0'+durMinutes;
		if(durSeconds < 10)
			durSeconds = '0'+durSeconds;

        if( isNaN(curMinutes) || isNaN(curSeconds) )
            tProgress.text('00:00');
        else
		    tProgress.text(curMinutes+':'+curSeconds);

        if( isNaN(durMinutes) || isNaN(durSeconds) )
            tTime.text('00:00');
        else
		    tTime.text(durMinutes+':'+durSeconds);

        if( isNaN(curMinutes) || isNaN(curSeconds) || isNaN(durMinutes) || isNaN(durSeconds) )
            trackTime.removeClass('active');
        else
            trackTime.addClass('active');


		seekBar.width(playProgress+'%');

		if( playProgress == 100 )
		{
			i.attr('name','play-circle');
			seekBar.width(0);
            tProgress.text('00:00');
            albumArt.removeClass('buffering').removeClass('active');
            clearInterval(buffInterval);
		}
    }

    function checkBuffering()
    {
        clearInterval(buffInterval);
        buffInterval = setInterval(function()
        {
            if( (nTime == 0) || (bTime - nTime) > 1000  )
                albumArt.addClass('buffering');
            else
                albumArt.removeClass('buffering');

            bTime = new Date();
            bTime = bTime.getTime();

        },100);
    }

    function selectTrack(flag)
    {
        if( flag == 0 || flag == 1 )
            ++currIndex;
        else
            --currIndex;

        if( (currIndex > -1) && (currIndex < albumArtworks.length) )
        {
            if( flag == 0 )
                i.attr('name','play-circle');
            else
            {
                albumArt.removeClass('buffering');
                i.attr('name','pause');
            }

            seekBar.width(0);
            trackTime.removeClass('active');
            tProgress.text('00:00');
            tTime.text('00:00');

            currAlbum = albums[currIndex];
            currTrackName = trackNames[currIndex];
            currArtwork = albumArtworks[currIndex];

            audio.src = trackUrl[currIndex];

            nTime = 0;
            bTime = new Date();
            bTime = bTime.getTime();

            if(flag != 0)
            {
                audio.play();
                playerTrack.addClass('active');
                albumArt.addClass('active');

                clearInterval(buffInterval);
                checkBuffering();
            }

            albumName.text(currAlbum);
            trackName.text(currTrackName);
            albumArt.find('img.active').removeClass('active');
            $('#'+currArtwork).addClass('active');

            bgArtworkUrl = $('#'+currArtwork).attr('src');

            bgArtwork.css({'background-image':'url('+bgArtworkUrl+')'});
        }
        else
        {
            if( flag == 0 || flag == 1 )
                --currIndex;
            else
                ++currIndex;
        }
    }

    function initPlayer()
	{
        audio = new Audio();

		selectTrack(0);

		audio.loop = true;

		playPauseButton.on('click',playPause);

		sArea.mousemove(function(event){ showHover(event); });

        sArea.mouseout(hideHover);

        sArea.on('click',playFromClickedPos);

        $(audio).on('timeupdate',updateCurrTime);

        playPreviousTrackButton.on('click',function(){ selectTrack(-1);} );
        playNextTrackButton.on('click',function(){ selectTrack(1);});
	}

	initPlayer();
});
  </script>
</body>
</html>
