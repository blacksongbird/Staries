<!DOCTYPE html>

<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Memory 2</title>
  <link rel="stylesheet" href="../../css/stylemym.css">
  <link rel="shortcut icon" href="../../logo.ico">
  <script src="../../js/removeBanner.js"></script>

</head>
<body>
<!-- partial:index.partial.html -->
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Montserrat+Alternates:600|Montserrat:500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/buttonmym.css">
  <link rel="stylesheet" href="../../css/playermym.css">
  <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
</head>

<body>
    <!-- update the version number as needed -->
<script defer src="../../__/firebase/7.14.6/firebase-app.js"></script>
<!-- include only the Firebase features as you need -->
<script defer src="../../__/firebase/7.14.6/firebase-auth.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-database.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-messaging.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-storage.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-firestore.js"></script>
<!-- initialize the SDK after all desired features are loaded -->
<script defer src="../../__/firebase/init.js"></script>
<script src="../../firebase-utils.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
      try {
        let app = firebase.app();
        StariesAccount.Observer();
      } catch (e) {
        console.error(e);
      }
    });
  </script>
  <div id="progress"></div>
<br>
        <div class="switch"><span class="switch-text">Dark Mode:</span>
            <span class="inner-switch">OFF</span>
        </div>
  <div class="container">
    <h1>Headphones</h1>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div id="app-cover">
        <div id="bg-artwork"></div>
        <div id="bg-layer"></div>
        <div id="player">
            <div id="player-track">
                <div id="album-name"></div>
                <div id="track-name"></div>
                <div id="track-time">
                    <div id="current-time"></div>
                    <div id="track-length"></div>
                </div>
                <div id="s-area">
                    <div id="ins-time"></div>
                    <div id="s-hover"></div>
                    <div id="seek-bar"></div>
                </div>
            </div>
            <div id="player-content">
                <div id="album-art">
                    <img src="../../img/mym/Memory2Art.png" class="active" id="_1">
                    <div id="buffer-box">Buffering ...</div>
                </div>
                <div id="player-controls">
                    <div class="control">
                        <div class="button" id="play-pause-button">
                            <ion-icon name="play-circle" id="iconoboton"></ion-icon>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <span class="byline">Memory 2</span><br><br><br>
    <span class="byline">Memories & Melodies - Gabriel Lobo</span>
    <p>I've never been good at making friends. My relationships since elementary school always ended up with me being excluded. Not even in The Happiest Country in the World can be avoided to feel sad sometimes. There's no place that is exempted from tragedies, and The Nameless City was not the exception.</p>
    <p>&emsp;&emsp;After what happened in the last memory, I went back to class as if nothing had happened. I presented my project with my partner —no, he wasn't Jacob—. And, even though the other guy didn't do very well, my grade, instead, remained gold. I wanted to keep getting that kind of grade, which is why I decided to pay close attention to each of my classmates, looking for several options for a future partner to work in the next assignments. I never imagined that I would get way much more than just a partner.</p>
    <p>&emsp;&emsp;After analyzing each presentation, I found myself almost without choices. Most of them got regular grades. And, even though this isn't something bad, I couldn't roll the dice by working with them if I didn't want to comply with medium grades. However, there was one of them —the last one, actually— that called my attention.</p>
    <p>&emsp;&emsp;The guy seemed nice, even though I hadn't heard him said a word in the whole class, or during the past weeks. Nevertheless, he spoke with such confidence that it was very impressive for a Conversational English class. Pronounced perfectly and each word that came out of his mouth was clear, straight and easy to understand, even for a deaf. That was when I knew that I would work with him from now on. But first, obviously, I had to find out his name and ask him if he wanted to work with me.</p>
    <p>&emsp;&emsp;—Congrats, you've got an A. Great job, Roy —the teacher said to the guy, just before he replied with a minimal gesture and then returned to his seat in complete silence. He was taller than me, at least —even though most of my classmates were taller than me back then, except for a couple of guys—. His hair was black and a small group of freckles lived on each of his cheeks. Fortunately, our teacher gave us work for couples during the class, so I decided to take the opportunity to see how he worked in a group.</p>
    <p>It turned out to be just how I expected. Even though he was almost as shy as I am, we worked better than I thought. So, I suggested him to work together in the next project, and he accepted after hesitating for a second. And that's how the afternoon of that Monday passed.</p>
    <p>&emsp;&emsp;But why I didn't work with Sea? Because even though we have several subjects in common, Conversational English wasn't one of them, which is why she was not an option. This made me hate Mondays and Thursdays' afternoons and the whole Tuesdays during that year. Anyway, I neither knew how to ask her to work with me. The next day, I met Roy and his friend at the cafeteria during lunch. Both of them were wearing headphones. They were black and had a particular design. The wires were connected by a zipper, black too, which was both functional and attractive.</p>
    <p>&emsp;&emsp;—Nice headphones —I pointed to call their attention.

      <br><br>&emsp;&emsp;—Thanks! We got them as a graduation gift from elementary school —he explained—. My mom helped at that event, so I have some of them at home, in case you're interested —he suggested.

      <br><br>&emsp;&emsp;—Well, what's the price? —I asked because it seemed a very good deal for a music lover.

      <br><br>&emsp;&emsp;—Two bucks —he answered, thinking that I would reject his offer, or at least that was what his expression suggested. In the meantime, his friend got in charge of heating their lunches. I hadn't had to do that thanks to the container I bought, which helped me to keep my food hot until my lunchtime.

      <br><br>&emsp;&emsp;—Great. You've got a deal —I said, happily.

      <br><br>&emsp;&emsp;—Really? Nice! What color would you prefer?

      <br><br>&emsp;&emsp;—Black —I answered with no hesitation; it is my favorite color.

      <br><br>&emsp;&emsp;—Alright, then. I'll bring them tomorrow.

      <br><br>&nbsp;&nbsp;—Thanks —I answered to end our talk, at the same time his friend came back with their containers.</p>
    <p>Said and done, he brought them and give them to me during the next day. Black, as I asked. I paid him and both of us ended up happy. However, I bought them even though I already had others that I used every day. Nowadays, I still wonder why I did it. After all, I think it was some kind of destiny thing, even though it sounds superstitious. If that hadn't happened, Roy wouldn't be my friend. Maybe I would have never got to know him as I do now. Maybe I wouldn't even be writing this. And certainly, I can say that a lot of the things that are connected here wouldn't have happened if it weren't for him. Everything that happened from now on hit both my life and Roy's, for good and bad. But, of course, we didn't know it back then. During the rest of the year, we became friends and, before I noticed, he became my best friend.

      <br><br>&emsp;&emsp;—Here.

      <br><br>&emsp;&emsp;—Thanks, Roy —I said while I gave him his money.

      <br><br>&emsp;&emsp;—Great. See ya.</p>
    <p>I remember perfectly that, during that same afternoon, Roy forgot one of his materials for our art class. The teacher got mad at all of those who forgot to bring something and ended up sending Roy a behavior report for not bringing the needed materials to class, but they didn't take that in count for his final grade —or at least that was what he told me—. However, this happened to a lot of classmates, which is why it was the main topic during the parents' meeting that night.</p>
    <p>&emsp;&emsp;Why do I emphasize this? Simple. The third encounter happened thanks to that meeting. But that's for the third memory, there's no need to run. Roy always seemed to be the right guy to ask for advice and help whenever I needed it. He was completely different from my old friends. When it was about him, every time we were together, he made me feel that I had someone who I could trust. I didn't feel excluded or misplaced at all.</p>
    <p>&emsp;&emsp;However, since the beginning, I remember that, deep inside me, there was some kind of fear of things to change eventually, just as it happened with my old friends in the past. I hate myself for it. I hate that my fears turn to reality when it's about relationships. It makes me feel that I'm the one to blame because of the good things ending sooner or later.</p>
    <p>&emsp;&emsp;But my friendship with Roy was going way too good to believe. That kind of things doesn't usually happen to me, but there we were. A couple of friends enjoying a talk during lunch.</p>
    <p>&emsp;&emsp;Both of us liked technology. We loved computers and videogames. It was a heavy part of our friendship. Let me explain. In our school, we have to go through six years before getting our bachelorship. The reason is simple. Along with the academic classes, every student has to choose a specialty. It's like a career that we have to take since the tenth year 'til we graduate. There are different specialties that we can choose to develop our skills. Graphic Design, Mechanics, Electronics, Sofware and Networking are some of these.</p>
    <p>&emsp;&emsp;Roy and I loved Software Development, which is why we presumed that we were going to study that specialty. All these things that we had in common helped to strengthen our friendship, which ended up as a strong brotherhood. This made my fear of our destinies differing decrease.</p>
    <p>&emsp;&emsp;Both of us were partners of each other in each of our madnesses, and that's how our year passed. And yes, he also gave me emotional support when it was about Sea.</p>
    <p>&emsp;&emsp;However, I never heard him mention any girl during that year. Every time I tried to get an answer to that question, he replied with the same.

      <br><br>&emsp;&emsp;—Having a relationship is senseless right now.

      <br><br>&emsp;&emsp;—Why? —I asked, confused.

      <br><br>&emsp;&emsp;—'Cause it doesn't have any objective. I mean, you're not going to marry your high school girlfriend as soon as you graduate, are you?

      <br><br>&emsp;&emsp;—I guess I won't, but that doesn't mean it is bad, don't you think? —I replied, trying to understand his point.

      <br><br>&emsp;&emsp;—I think it's just a distraction, and also an increase in the possibility of getting an unwanted pregnancy —he answered sarcastically.

      <br><br>&emsp;&emsp;—Well, I don't know. I would like to have something with Sea. Obviously not an unwanted pregnancy. But a relationship can't kill anybody, can it? —I said. Poor me.</p>
      <p>It didn't take him a lot of time to get to meet my family, and it didn't take them a lot of time to like him. Eventually, he ended up spending a lot of time playing videogames at my house. Music was another of our passions. Each of us had his favorite group and each of us enjoyed the music o the other in an implicit exchange of melodies during our daily routine. I loved Twenty One Pilots, and he, Imagine Dragons. And both of us loved the other's band too. After all, what you like is what I like, isn't it?</p>
      <p>&emsp;&emsp;After some time, others joined us and be stopped being a duo. But that didn't prevent us from being as close as in the beginning. I love and hate my memories because they remember me the best and the worst of the people I love. And because they make me cry, too. Roy and I both went through a lot. But even now, everybody knows that we're an amazing duo; where Roy goes, Tyler does, and where Tyler goes, Roy does too.</p>

  </div>
  <div class="col-md-12 text-center"style="z-index: 5;" align="center">
    <a class="btn btn-coffee btn-border" href="../loaders/index3.html" style="z-index: 3; margin-left: auto;margin-bottom: 100px; outline: none;color: #800080; text-align: center;border-color: #800080;font-size:20px;">Next...</a>
    <br>
    <a class="btn btn-coffee btn-border" href="../../Memories & Melodies.html#service" style="z-index: 3; margin-left: auto;margin-top: -150px; outline: none;color: #57a639; text-align: center;border-color: #57a639;font-size:20px;">Back to Index</a>
  </div>

</body>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script  src="../../js/scriptread.js"></script>
  <link rel="stylesheet" href="../../css/dark.css">
    <script src="../../js/dark.js"></script>
  <script type="text/javascript">
  $(function()
{
    var playerTrack = $("#player-track"), bgArtwork = $('#bg-artwork'), bgArtworkUrl, albumName = $('#album-name'), trackName = $('#track-name'), albumArt = $('#album-art'), sArea = $('#s-area'), seekBar = $('#seek-bar'), trackTime = $('#track-time'), insTime = $('#ins-time'), sHover = $('#s-hover'), playPauseButton = $("#play-pause-button"),  i = playPauseButton.find('ion-icon'), tProgress = $('#current-time'), tTime = $('#track-length'), seekT, seekLoc, seekBarPos, cM, ctMinutes, ctSeconds, curMinutes, curSeconds, durMinutes, durSeconds, playProgress, bTime, nTime = 0, buffInterval = null, tFlag = false, albums = ['Brother'], trackNames = ['Kodaline'], albumArtworks = ['_1'], trackUrl = ['../../Melodías y Memorias/Memoria 2/memoria2.mp3'], playPreviousTrackButton = $('#play-previous'), playNextTrackButton = $('#play-next'), currIndex = -1;

    function playPause()
    {
        setTimeout(function()
        {
            if(audio.paused)
            {
                playerTrack.addClass('active');
                albumArt.addClass('active');
                checkBuffering();
                i.attr('name','pause');
                audio.play();
            }
            else
            {
                playerTrack.removeClass('active');
                albumArt.removeClass('active');
                clearInterval(buffInterval);
                albumArt.removeClass('buffering');
                i.attr('name','play-circle');
                audio.pause();
            }
        },300);
    }


	function showHover(event)
	{
		seekBarPos = sArea.offset();
		seekT = event.clientX - seekBarPos.left;
		seekLoc = audio.duration * (seekT / sArea.outerWidth());

		sHover.width(seekT);

		cM = seekLoc / 60;

		ctMinutes = Math.floor(cM);
		ctSeconds = Math.floor(seekLoc - ctMinutes * 60);

		if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

        if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

		if(ctMinutes < 10)
			ctMinutes = '0'+ctMinutes;
		if(ctSeconds < 10)
			ctSeconds = '0'+ctSeconds;

        if( isNaN(ctMinutes) || isNaN(ctSeconds) )
            insTime.text('--:--');
        else
		    insTime.text(ctMinutes+':'+ctSeconds);

		insTime.css({'left':seekT,'margin-left':'-21px'}).fadeIn(0);

	}

    function hideHover()
	{
        sHover.width(0);
        insTime.text('00:00').css({'left':'0px','margin-left':'0px'}).fadeOut(0);
    }

    function playFromClickedPos()
    {
        audio.currentTime = seekLoc;
		seekBar.width(seekT);
		hideHover();
    }

    function updateCurrTime()
	{
        nTime = new Date();
        nTime = nTime.getTime();

        if( !tFlag )
        {
            tFlag = true;
            trackTime.addClass('active');
        }

		curMinutes = Math.floor(audio.currentTime / 60);
		curSeconds = Math.floor(audio.currentTime - curMinutes * 60);

		durMinutes = Math.floor(audio.duration / 60);
		durSeconds = Math.floor(audio.duration - durMinutes * 60);

		playProgress = (audio.currentTime / audio.duration) * 100;

		if(curMinutes < 10)
			curMinutes = '0'+curMinutes;
		if(curSeconds < 10)
			curSeconds = '0'+curSeconds;

		if(durMinutes < 10)
			durMinutes = '0'+durMinutes;
		if(durSeconds < 10)
			durSeconds = '0'+durSeconds;

        if( isNaN(curMinutes) || isNaN(curSeconds) )
            tProgress.text('00:00');
        else
		    tProgress.text(curMinutes+':'+curSeconds);

        if( isNaN(durMinutes) || isNaN(durSeconds) )
            tTime.text('00:00');
        else
		    tTime.text(durMinutes+':'+durSeconds);

        if( isNaN(curMinutes) || isNaN(curSeconds) || isNaN(durMinutes) || isNaN(durSeconds) )
            trackTime.removeClass('active');
        else
            trackTime.addClass('active');


		seekBar.width(playProgress+'%');

		if( playProgress == 100 )
		{
			i.attr('name','play-circle');
			seekBar.width(0);
            tProgress.text('00:00');
            albumArt.removeClass('buffering').removeClass('active');
            clearInterval(buffInterval);
		}
    }

    function checkBuffering()
    {
        clearInterval(buffInterval);
        buffInterval = setInterval(function()
        {
            if( (nTime == 0) || (bTime - nTime) > 1000  )
                albumArt.addClass('buffering');
            else
                albumArt.removeClass('buffering');

            bTime = new Date();
            bTime = bTime.getTime();

        },100);
    }

    function selectTrack(flag)
    {
        if( flag == 0 || flag == 1 )
            ++currIndex;
        else
            --currIndex;

        if( (currIndex > -1) && (currIndex < albumArtworks.length) )
        {
            if( flag == 0 )
                i.attr('name','play-circle');
            else
            {
                albumArt.removeClass('buffering');
                i.attr('name','pause');
            }

            seekBar.width(0);
            trackTime.removeClass('active');
            tProgress.text('00:00');
            tTime.text('00:00');

            currAlbum = albums[currIndex];
            currTrackName = trackNames[currIndex];
            currArtwork = albumArtworks[currIndex];

            audio.src = trackUrl[currIndex];

            nTime = 0;
            bTime = new Date();
            bTime = bTime.getTime();

            if(flag != 0)
            {
                audio.play();
                playerTrack.addClass('active');
                albumArt.addClass('active');

                clearInterval(buffInterval);
                checkBuffering();
            }

            albumName.text(currAlbum);
            trackName.text(currTrackName);
            albumArt.find('img.active').removeClass('active');
            $('#'+currArtwork).addClass('active');

            bgArtworkUrl = $('#'+currArtwork).attr('src');

            bgArtwork.css({'background-image':'url('+bgArtworkUrl+')'});
        }
        else
        {
            if( flag == 0 || flag == 1 )
                --currIndex;
            else
                ++currIndex;
        }
    }

    function initPlayer()
	{
        audio = new Audio();

		selectTrack(0);

		audio.loop = true;

		playPauseButton.on('click',playPause);

		sArea.mousemove(function(event){ showHover(event); });

        sArea.mouseout(hideHover);

        sArea.on('click',playFromClickedPos);

        $(audio).on('timeupdate',updateCurrTime);

        playPreviousTrackButton.on('click',function(){ selectTrack(-1);} );
        playNextTrackButton.on('click',function(){ selectTrack(1);});
	}

	initPlayer();
});
  </script>
</body>
</html>
