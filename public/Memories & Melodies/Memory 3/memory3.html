<!DOCTYPE html>
<!-- update the version number as needed -->
<script defer src="../../__/firebase/7.14.6/firebase-app.js"></script>
<!-- include only the Firebase features as you need -->
<script defer src="../../__/firebase/7.14.6/firebase-auth.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-database.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-messaging.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-storage.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-firestore.js"></script>
<!-- initialize the SDK after all desired features are loaded -->
<script defer src="../../__/firebase/init.js"></script>
<script src="../../firebase-utils.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
      try {
        let app = firebase.app();
        StariesAccount.Observer();
      } catch (e) {
        console.error(e);
      }
    });
  </script>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Memory 3</title>
  <link rel="stylesheet" href="../../css/stylemym.css">
  <link rel="shortcut icon" href="../../logo.ico">
  <script src="../../js/removeBanner.js"></script>

</head>
<body>
<!-- partial:index.partial.html -->
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Montserrat+Alternates:600|Montserrat:500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/buttonmym.css">

  <link rel="stylesheet" href="../../css/playermym.css">
  <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
</head>

<body>
  <div id="progress"></div>
<br>
        <div class="switch"><span class="switch-text">Dark Mode:</span>
            <span class="inner-switch">OFF</span>
        </div>
  <div class="container">
    <h1>Older Brothers</h1>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div id="app-cover">
        <div id="bg-artwork"></div>
        <div id="bg-layer"></div>
        <div id="player">
            <div id="player-track">
                <div id="album-name"></div>
                <div id="track-name"></div>
                <div id="track-time">
                    <div id="current-time"></div>
                    <div id="track-length"></div>
                </div>
                <div id="s-area">
                    <div id="ins-time"></div>
                    <div id="s-hover"></div>
                    <div id="seek-bar"></div>
                </div>
            </div>
            <div id="player-content">
                <div id="album-art">
                    <img src="../../img/mym/Memory3Art.png" class="active" id="_1">
                    <div id="buffer-box">Buffering ...</div>
                </div>
                <div id="player-controls">
                    <div class="control">
                        <div class="button" id="play-pause-button">
                            <ion-icon name="play-circle" id="iconoboton"></ion-icon>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <span class="byline">Memory 3</span><br><br><br>
    <span class="byline">Memories & Melodies - Gabriel Lobo</span>

<p>Returning to the past sounds like a fantasy surrealistic idea. But what we, rationalists by nature, don't always get to understand is that, technically, going back in time is something quite easy to achieve, as long as you have enough experience to do so. Obviously I'm not talking about actually traveling to the past; that does is something fictitious. I mean reliving past moments at will. This, for some people —I included—, is the most realistic definition for the expression "traveling back on time". I am doing so, right now, while I write each experience. I borrow them from my own past and relive them in order to narrate them as stories. Nowadays it is some kind of day-to-day thing, or at least since I decided to write them one by one, just like grains of sand that are part of the long bay this story really is. The main character of the third memory wasn't responsible for the third encounter. Actually, it was something caused by someone close to her. Of course, I'm not taking away her merit because, if she hadn't taken action the day after the meeting, probably she would've not become someone so important to me. But, obviously, not everything is pink colored. Remember that this is not a fiction story; they're experiences from real life. And clearly, real life will never be pink colored. Never.</p>

        <p>&emsp;&emsp;After the end of the classes of the day of the meeting, instead of going back home as always, I decided to stay and wait 'till the end of it, in order to go return home with my parents in their car —because, back then, I hated to travel in bus—. After wandering around the extensive facilities of the school, I went somewhere near the classroom in which the meeting was taking place, in order to wait there for my parents to come out.</p>


        <p>&emsp;&emsp;After a while, I saw with the corner of my eye one of the mothers that was exiting the classroom with a baby in arms —who, I assumed, was her son—, while she was taking him far away in order to soothe his crying and avoid bothering the other parents. At the time I didn't give it much importance. After all, she was just another one of the thousands of people that I was sharing the school environment with. I would've never imagined that she would play such a role regarding my youth relationships.</p>


        <p>&emsp;&emsp;After 15 minutes, I stood up from the place I was seated —and yes, I gotta admit that it was somewhere over the floor. Why am I going to cheat you?—, and I started to walk through the halls of the school to kill some time. After wandering around for another two or three minutes, I ran into the lady with her baby over her laps —who was no longer crying, because now he had a small toy between his hands—. I remember that, back then, I just greeted her with a kind gesture —I get it, I'll never be good at starting conversations on my own, but there is nothing that I can do to change it—, in order to keep walking. However, just in the instant in which I was going to continue with my path, the toy of the kid slipped from his hands and fell to the floor. The scratches of the toy made clear that it wasn't the first time this happened.</p>

        <p>&emsp;&emsp;Just like any guy in my shoes, I picked up the toy and gave it back to the baby, in order for him to throw it again against the floor and laugh gently. Once again, I repeated the same process, gave it to him but, this time, his mother stopped him before he threw it again against the floor of the hall, while she thanked me with gentleness. The little boy wasn't a newly born. Actually, he already could walk and express some short phrases a little bit hard to understand —at least for me—. After giving him the toy for the third time, I got closer to watch him carefully, while his eyes enjoyed, full of curiosity, everything that surrounded him. Suddenly, I felt how his small hands touched my face while he let out another cute laugh, to which his mother answered with another condescending laugh.</p>

        <p>&emsp;&emsp;—His name is Adam —she said, while she laughed at how the boy played with my hair.<p>

        <p>&emsp;&emsp;—Really? I have a brother whose name is Adam too —I replied, and it was true. I'm three years older than him, and he has been the one and only of my best friends who have always been loyal, in both the goods and the bads. But, again, that's another's memories topic.<p>

        <p>&emsp;&emsp;—Now I see why you like babies that much. And clearly they seem to like you too —she pointed—. But this kid is very naughty. He loves to be all over the floor throwing his toys everywhere. Is your brother naughty too?</p>

        <p>&emsp;&emsp;—Definitely, yes. I've taken care of him since he was a child, trying to stop him from getting in trouble. But, somehow, he has always taken care of me, too. My name is Tyler, by the way —I said, while I remembered that my Adam didn't want to come with my parents to the meeting. Instead of that, he chose to spend the night with my cousin playing videogames. But I don't blame him, I would've done the same.</p>

        <p>&emsp;&emsp;—I can see he is the opposite of you, Tyler —she replied while she smiled—. In which group are you?</p>

        <p>&emsp;&emsp;—7-D —I answered.</p>

        <p>&emsp;&emsp;—Well, I'm the mother of one of the girls in your group. I'm Rebecca's mother, the brunette girl with long curly hair. Do you know her?</p>

        <p>&emsp;&emsp;—Yeah, I think I know who she is —but, before that question, she was a complete stranger to me.</p>

        <p>&emsp;&emsp;—Great, then now you can greet her with confidence whenever you see her —she said excited, while the small Adam was twisting over her laps. If she just knew how hard it is for me to talk even with the people I know.</p>

        <p>&emsp;&emsp;—Great! —I replied, with some irony—. I think I should go —I said when I saw my parents coming out of the meeting with horror expressions in their faces—. It was a pleasure to meet you. See you —I said to end our talk.</p>

        <p>&emsp;&emsp;—Bye —she replied at the distance while she held the kid, now with just one arm. After that, I searched for my parents in the crowd to go back home. It wasn't something hard to do because, at least for me, they're pretty easy to identify. Especially my father, because he is tall, thin, has very little hair and wears glasses, which make him look quite serious —at least until he gets some confidence with you—. On the other side, my mom is small, with short hair and a beautiful smile, hand in hand with beautiful dark brown colored eyes —the same eyes Adam and I have—. They're an amazing couple —at least from my point of view—, and it's clear that, despite they've been married for almost 19 years, they still love each other just like a couple of teenagers in love would, surrounded by all the drama from their youth romance. But, again, this is for another memory. There's no need to speed up. Let's take it easy, shall we? The day after the meeting, I had regular classes during the morning like every other day. However, during the first break, a brunette girl with an exuberant curly hair approached me. I had seen her several times around the facilities but, by then, I had already forgotten about what happened the night before.</p>

        <p>&emsp;&emsp;—Hey Tyler. I'm Rebecca. My mom told me that you talk to her last night, at the meeting —she explained, with confidence. It seemed like now everybody had decided to talk to the nerd of the group as if they knew him since he was a child.</p>

        <p>&emsp;&emsp;—Oh, yeah, I remember. I also met little Adam —I said in order to break the ice, at least for me.</p>

        <p>&emsp;&emsp;—Yes, his kinda' naughty every once in a while, but his cute —she affirmed—. By the way, my mom liked you a lot. She said that she hadn't seen such a good guy like you since I was accepted in this school —she said, while my cheeks were filled with a light peach colored bud.</p>

        <p>&emsp;&emsp;—Say thanks to her for the compliment for me. I liked her a lot too —I replied, a little bit blushed.</p>

        <p>&emsp;&emsp;—Sure! —she said—. Well, hope to see ya later. Bye!</p>

        <p>&emsp;&emsp;—It was a pleasure to meet you —for when I said that, Rebecca had already vanished almost as fast as when she arrived.

	Since then, I started to greet her in the halls or in class, whenever I had the chance. I talked to her very often —despite sometimes it was a little exasperating when she sent me thousands of mesagges per minute to make me answer fast—. But she always seemed a nice and kind girl to me. She was taller than me, even though I was 9 months older than her, which was no surprise because, during that year, I got used to looking at everybody from below —except Sea, who was around 4.9 feet tall. But I always saw it like something that made her cute—.</p>

        <p>&emsp;&emsp;We went through a lot of things over the years, but Rebecca always was part of my closest friends, becoming like a little sister to me. Since seventh grade, I clearly remember that she asked me to start a group in order to work during the science fair of the next year. In the beginning, it seemed like something pretty exaggerated planning it since then, but I agreed anyway, as long as Roy was included in that group.

	And that's how, little by little, I won another friendship without knowing that it would be one of the most valuable treasures of my life, all out of a sudden. After meeting Rebecca, I also met her friend, Tara. And then, we decided to start a group. It wasn't just a science fair group. That alliance, as the time went by, became into something bigger, more important. Both Rebecca and Tara as Roy and I became unconditional friends all along that year. And, to me, all of this was what you would call an unforeseen blessing. Everything happened so fast that, when I realized, I was already part of a group and had a new best friend. Rebecca and I started to share lunchtime with Roy and Tra during the first and second half of the year. It was one of the best ages of high school, but I wish it would have lasted just a little bit more.</p>


    </div>
  <div class="col-md-12 text-center"style="z-index: 5;" align="center">
    <a class="btn btn-coffee btn-border" href="../loaders/index4.html" style="z-index: 3; margin-left: auto;margin-bottom: 100px; outline: none;color: #800080; text-align: center;border-color: #800080;font-size:20px;">Next...</a>
    <br>
    <a class="btn btn-coffee btn-border" href="../../Memories & Melodies.html#service" style="z-index: 3; margin-left: auto;margin-top: -150px; outline: none;color: #57a639; text-align: center;border-color: #57a639;font-size:20px;">Back to Index</a>
  </div>

</body>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script  src="../../js/scriptread.js"></script>
  <link rel="stylesheet" href="../../css/dark.css">
    <script src="../../js/dark.js"></script>
  <script type="text/javascript">
  $(function()
{
    var playerTrack = $("#player-track"), bgArtwork = $('#bg-artwork'), bgArtworkUrl, albumName = $('#album-name'), trackName = $('#track-name'), albumArt = $('#album-art'), sArea = $('#s-area'), seekBar = $('#seek-bar'), trackTime = $('#track-time'), insTime = $('#ins-time'), sHover = $('#s-hover'), playPauseButton = $("#play-pause-button"),  i = playPauseButton.find('ion-icon'), tProgress = $('#current-time'), tTime = $('#track-length'), seekT, seekLoc, seekBarPos, cM, ctMinutes, ctSeconds, curMinutes, curSeconds, durMinutes, durSeconds, playProgress, bTime, nTime = 0, buffInterval = null, tFlag = false, albums = ['Count on Me'], trackNames = ['Bruno Mars'], albumArtworks = ['_1'], trackUrl = ['../../Melodías y Memorias/Memoria 3/memoria3.mp3'], playPreviousTrackButton = $('#play-previous'), playNextTrackButton = $('#play-next'), currIndex = -1;

    function playPause()
    {
        setTimeout(function()
        {
            if(audio.paused)
            {
                playerTrack.addClass('active');
                albumArt.addClass('active');
                checkBuffering();
                i.attr('name','pause');
                audio.play();
            }
            else
            {
                playerTrack.removeClass('active');
                albumArt.removeClass('active');
                clearInterval(buffInterval);
                albumArt.removeClass('buffering');
                i.attr('name','play-circle');
                audio.pause();
            }
        },300);
    }


	function showHover(event)
	{
		seekBarPos = sArea.offset();
		seekT = event.clientX - seekBarPos.left;
		seekLoc = audio.duration * (seekT / sArea.outerWidth());

		sHover.width(seekT);

		cM = seekLoc / 60;

		ctMinutes = Math.floor(cM);
		ctSeconds = Math.floor(seekLoc - ctMinutes * 60);

		if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

        if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

		if(ctMinutes < 10)
			ctMinutes = '0'+ctMinutes;
		if(ctSeconds < 10)
			ctSeconds = '0'+ctSeconds;

        if( isNaN(ctMinutes) || isNaN(ctSeconds) )
            insTime.text('--:--');
        else
		    insTime.text(ctMinutes+':'+ctSeconds);

		insTime.css({'left':seekT,'margin-left':'-21px'}).fadeIn(0);

	}

    function hideHover()
	{
        sHover.width(0);
        insTime.text('00:00').css({'left':'0px','margin-left':'0px'}).fadeOut(0);
    }

    function playFromClickedPos()
    {
        audio.currentTime = seekLoc;
		seekBar.width(seekT);
		hideHover();
    }

    function updateCurrTime()
	{
        nTime = new Date();
        nTime = nTime.getTime();

        if( !tFlag )
        {
            tFlag = true;
            trackTime.addClass('active');
        }

		curMinutes = Math.floor(audio.currentTime / 60);
		curSeconds = Math.floor(audio.currentTime - curMinutes * 60);

		durMinutes = Math.floor(audio.duration / 60);
		durSeconds = Math.floor(audio.duration - durMinutes * 60);

		playProgress = (audio.currentTime / audio.duration) * 100;

		if(curMinutes < 10)
			curMinutes = '0'+curMinutes;
		if(curSeconds < 10)
			curSeconds = '0'+curSeconds;

		if(durMinutes < 10)
			durMinutes = '0'+durMinutes;
		if(durSeconds < 10)
			durSeconds = '0'+durSeconds;

        if( isNaN(curMinutes) || isNaN(curSeconds) )
            tProgress.text('00:00');
        else
		    tProgress.text(curMinutes+':'+curSeconds);

        if( isNaN(durMinutes) || isNaN(durSeconds) )
            tTime.text('00:00');
        else
		    tTime.text(durMinutes+':'+durSeconds);

        if( isNaN(curMinutes) || isNaN(curSeconds) || isNaN(durMinutes) || isNaN(durSeconds) )
            trackTime.removeClass('active');
        else
            trackTime.addClass('active');


		seekBar.width(playProgress+'%');

		if( playProgress == 100 )
		{
			i.attr('name','play-circle');
			seekBar.width(0);
            tProgress.text('00:00');
            albumArt.removeClass('buffering').removeClass('active');
            clearInterval(buffInterval);
		}
    }

    function checkBuffering()
    {
        clearInterval(buffInterval);
        buffInterval = setInterval(function()
        {
            if( (nTime == 0) || (bTime - nTime) > 1000  )
                albumArt.addClass('buffering');
            else
                albumArt.removeClass('buffering');

            bTime = new Date();
            bTime = bTime.getTime();

        },100);
    }

    function selectTrack(flag)
    {
        if( flag == 0 || flag == 1 )
            ++currIndex;
        else
            --currIndex;

        if( (currIndex > -1) && (currIndex < albumArtworks.length) )
        {
            if( flag == 0 )
                i.attr('name','play-circle');
            else
            {
                albumArt.removeClass('buffering');
                i.attr('name','pause');
            }

            seekBar.width(0);
            trackTime.removeClass('active');
            tProgress.text('00:00');
            tTime.text('00:00');

            currAlbum = albums[currIndex];
            currTrackName = trackNames[currIndex];
            currArtwork = albumArtworks[currIndex];

            audio.src = trackUrl[currIndex];

            nTime = 0;
            bTime = new Date();
            bTime = bTime.getTime();

            if(flag != 0)
            {
                audio.play();
                playerTrack.addClass('active');
                albumArt.addClass('active');

                clearInterval(buffInterval);
                checkBuffering();
            }

            albumName.text(currAlbum);
            trackName.text(currTrackName);
            albumArt.find('img.active').removeClass('active');
            $('#'+currArtwork).addClass('active');

            bgArtworkUrl = $('#'+currArtwork).attr('src');

            bgArtwork.css({'background-image':'url('+bgArtworkUrl+')'});
        }
        else
        {
            if( flag == 0 || flag == 1 )
                --currIndex;
            else
                ++currIndex;
        }
    }

    function initPlayer()
	{
        audio = new Audio();

		selectTrack(0);

		audio.loop = true;

		playPauseButton.on('click',playPause);

		sArea.mousemove(function(event){ showHover(event); });

        sArea.mouseout(hideHover);

        sArea.on('click',playFromClickedPos);

        $(audio).on('timeupdate',updateCurrTime);

        playPreviousTrackButton.on('click',function(){ selectTrack(-1);} );
        playNextTrackButton.on('click',function(){ selectTrack(1);});
	}

	initPlayer();
});
  </script>
</body>
</html>
