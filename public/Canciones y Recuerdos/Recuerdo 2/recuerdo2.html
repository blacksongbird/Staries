<!DOCTYPE html>

<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Recuerdo 2</title>
  <link rel="stylesheet" href="../../css/stylecyr.css">
  <link rel="shortcut icon" href="../../logo.ico">
  <script src="../../js/removeBanner.js"></script>

</head>
<body>
<!-- update the version number as needed -->
<script defer src="../../__/firebase/7.14.6/firebase-app.js"></script>
<!-- include only the Firebase features as you need -->
<script defer src="../../__/firebase/7.14.6/firebase-auth.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-database.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-messaging.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-storage.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-firestore.js"></script>
<!-- initialize the SDK after all desired features are loaded -->
<script defer src="../../__/firebase/init.js"></script>
<script src="../../firebase-utils.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
      try {
        let app = firebase.app();
        StariesAccount.Observer();
      } catch (e) {
        console.error(e);
      }
    });
  </script>
<!-- partial:index.partial.html -->
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Montserrat+Alternates:600|Montserrat:500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/buttoncyr.css">
  <link rel="stylesheet" href="../../css/playercyr.css">
  <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
</head>

<body>
  <div id="progress"></div>
<br>
        <div class="switch"><span class="switch-text">Modo Oscuro:</span>
            <span class="inner-switch">OFF</span>
        </div>
  <div class="container">
    <h1>Fiestas</h1>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div id="app-cover">
        <div id="bg-artwork"></div>
        <div id="bg-layer"></div>
        <div id="player">
            <div id="player-track">
                <div id="album-name"></div>
                <div id="track-name"></div>
                <div id="track-time">
                    <div id="current-time"></div>
                    <div id="track-length"></div>
                </div>
                <div id="s-area">
                    <div id="ins-time"></div>
                    <div id="s-hover"></div>
                    <div id="seek-bar"></div>
                </div>
            </div>
            <div id="player-content">
                <div id="album-art">
                    <img src="../../img/cyr/Flashback2Art.png" class="active" id="_1">
                    <div id="buffer-box">Buffering ...</div>
                </div>
                <div id="player-controls">
                  <div class="control">
                        <div class="button" id="play-pause-button">
                            <ion-icon name="play-circle" id="iconoboton"></ion-icon>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <span class="byline">Recuerdo 2</span><br><br><br>
    <span class="byline">Canciones y Recuerdos - Gabriel Lobo</span>

      <p>Las personas analíticas tienen un problema en la cabeza. Un problema que afecta su inteligencia emocional. Sobre analizar las cosas hace que la bola de nieve formada por pensamientos negativos relacionados con una situación aumente. Quizás porque nos enfocamos siempre en lo malo y, cuando algo bueno ocurre, pasamos horas buscándole su lado negativo. Porque claro, todo tiene que tener un lado así, ¿no?</p>

      <p>&emsp;&emsp;Aún no nos hemos vuelto suficientemente cercanos como para poder contarte todo lo que ocurrió en persona. Pero si mi corazonada no me acaba desilusionando, espero que esto te lo compense. No sé cuánto tiempo te tomará llegar a interesarte en lo que me ocurrió hace unos años. Probablemente te tome mucho, porque apenas hablamos los jueves por la noche.</p>

      <p>&emsp;&emsp;Pero tranquila, tarde o temprano verás que todo lo que me ocurrió fue para bien, o al menos eso quiero pensar, porque si no fuera para bien, no te habría conocido en primer lugar, ¿o sí?</p>

      <p>&emsp;&emsp;Bien. Volviendo a lo que pasó entre Sea y yo. Tras los desafortunados eventos del recuerdo pasado, ocurrió, como dije, la entrada a clases, y con ella, mi cumpleaños. Y sí, el de Sea también. No quiero decir que fue algo desafortunado no ser invitado a su fiesta de cumpleaños, porque de por sí, habría sido demasiado incómodo para ambos que yo hubiera ido. Y como pensé que sería lógico, yo tampoco la invité a la mía, aunque no fue por rencor ni mucho menos. Simplemente no podía invitar a muchas personas, así que quería que quienes fueran a mi fiesta fueran personas importantes para mí en ese entonces.</p>

      <p>&emsp;&emsp;Pasé la noche del 17 de febrero del 2018 con Adam, Josh —te lo presentaré más adelante—, Mamá, Papá, y los chicos de siempre. Para no enrollarme de más, la pasé genial. Y quiero creer que mis seres queridos también. Entre todos me regalaron una figura Funko Pop de Pennywise el Payaso, personaje característico de uno de mis libros preferidos. Fue una hermosa noche. Ojalá cosas así se repitieran. Aunque conociendo lo que pasó, desearía haberte conocido antes para invitarte a ti, en lugar de otras personas. Pero bueno, de los errores se aprende.</p>

      <p>&emsp;&emsp;Mi “rencor” con Sea duró uno o dos meses, pero posterior a esa etapa de amor-odio, me comencé a llevar bastante bien con ella de nuevo, aunque trataba de olvidar lo que había ocurrido entre nosotros. Pero no lo hice porque no era algo que pudiera hacer de la noche a la mañana. Así transcurrieron abril y mayo para mí. Finalmente, junio estaba a la vuelta de la esquina. Sin embargo, el evento que corresponde a este recuerdo está más atrás.</p>

      <p>&emsp;&emsp;La fiesta de cumpleaños de Dalisha fue un evento que se dio a notar por sí solo. Pero necesitas contexto, claro. Esto fue lo que ocurrió. Semanas antes de la fiesta, noté un cambio en la actitud de Roy. Lo recuerdo bastante bien. Y como muchas cosas en esta historia, el efecto mariposa se dio gracias a un torpe malentendido.</p>

      <p>&emsp;&emsp;Recién había concluido la semana de exámenes, y todos estábamos ansiosos por recibir los resultados. Tras la fiesta de Tara —lo sé, yo también estoy harto de las fiestas, y para alguien que las detesta tanto, fui a muchas el año pasado—, Roy y Dalisha se volvieron más cercanos que antes. Era obvio que eran mejores amigos, y algunos de nosotros teníamos la sospecha de que entre ellos pasaba algo más que una simple amistad. Pero Roy siempre ha sido muy reservado en ese sentido, incluso conmigo o con Patrick. Pero un martes, todo cambió de súbito. Noté que mi mejor amigo estaba mal y le pregunté el porqué.</p>

      <p>&emsp;&emsp;—Dalisha está molesta conmigo —dijo cabizbajo.</p>

      <p>&emsp;&emsp;—¿Por qué?</p>

      <p>&emsp;&emsp;—Eso mismo quiero saber.</p>

      <p>&emsp;&emsp;—No te entiendo —dije confundido.</p>

      <p>&emsp;&emsp;—Resulta que hoy ella tenía fiebre y volvió a casa temprano. Yo iba a ir a recoger mi examen de matemática y me ofrecí para recoger el suyo también.</p>

      <p>&emsp;&emsp;—No veo qué tiene de malo.</p>

      <p>&emsp;&emsp;—Yo tampoco. El caso es que me escribió diciendo que no era mi problema su examen y que estaba harta de que yo la apartara de su mejor amigo.</p>

      <p>&emsp;&emsp;—¿Pero ese no eres tú?</p>

      <p>&emsp;&emsp;—Desde hoy, aparentemente no —susurró.</p>

      <p>No comprendí bien las acciones de Dalisha ni tampoco su versión de la historia. Solo supe una cosa. Roy estaba triste y ella era la responsable. Hasta donde sé, era suficiente para mantener mi distancia.</p>

      <p>&emsp;&emsp;Días después, las cosas seguían igual. Yo estaba demasiado preocupado por mis propios dramas en ese momento, pero sé que Roy no la pasó muy bien durante esa época. Y debí haberle dado más importancia de la que le di en su momento. Supongo que pensé que Patrick podría hacerse cargo de eso, ya que se había vuelto más cercano a Roy de lo que yo lo soy.</p>

      <p>&emsp;&emsp;El viernes previo a la fiesta de Dalisha, Roy nos contó a Patrick y a mí que, en el fondo, sí le gustaba Dalisha. Fue una gran noticia para ambos. Durante la época, yo llegué a sentir lo mismo por Rebecca, pero no quise arriesgarme a proponer una relación por dos motivos. En primer lugar, Rebecca y yo éramos mejores amigos, y no quería que eso cambiara. Y por el otro, si ella hipotéticamente llegaba a sentir lo mismo por mí, la verdad sería que yo no estaba del todo enamorado de ella, ya que sentía que tener una relación tan poco tiempo después de Sea sería como una especie de chivo expiatorio para tratar de olvidarla.</p>

      <p>&emsp;&emsp;Volviendo a Roy. Él le había comprado un precioso regalo de cumpleaños antes de la pelea, y el hecho de que ella lo tratara de esa forma de la nada fue algo que no alcancé jamás a comprender. Quizás Dalisha pensó que no era lo suficientemente buena para Roy. Pero si ese era el caso, era un sentimiento mutuo. Cuando estás enamorado, eres muy tonto. Todos fuimos muy tontos.</p>

      <p>&emsp;&emsp;La situación nos afectó a todos, hasta el punto en el que Roy, Rebecca, Patrick y yo acabamos almorzando sin Tara y sin Dalisha. No por elección, claro. Y finalmente llegó el fin de semana del cumpleaños. Llevábamos casi dos meses de ensayos, ya que era algo formal, y mi terror de que llevaran alcohol a la fiesta era tan inocente que parecía ingenuo y estúpido. Pero vaya que tuve razón.</p>

      <p>&emsp;&emsp;La fiesta comenzó bien. Bueno, si es que una fiesta puede comenzar bien. Desde entonces mi papel en las fiestas no ha cambiado nada. Soy el chico sobrio. Algunos lo llamarían el último en pie, ya que, gracias a abstenerse de tomar alcohol, es el único que no cae dormido al final de la “fiesta”.</p>

      <p>&emsp;&emsp;Roy me acompañó mucho tiempo en ese papel, hasta que ocurrió algo que te contaré más adelante. El caso es que tanto Tara como Dalisha y Rebecca bebieron alcohol, de nuevo. Estuve en más de una ocasión a punto de irme de la fiesta casi a la mitad. Roy fue el motivo que me detuvo. Me molesté seriamente con Rebecca, ya que era la que más me importaba de las tres chicas que bebieron. Y me preocupé por ella. Al día siguiente, hablamos y acordamos que ella no volvería a tomar en las próximas fiestas. Mentira.</p>

      <p>&emsp;&emsp;Y fue así como se fragmentó el grupo. Tara y Dalisha excluían a Rebecca, mientras que Roy y Patrick hacían lo mismo conmigo. Comencé a almorzar solo bajo las gradas de uno de los edificios académicos del instituto. Ahí conocí a otra chica de la que me enamoraría durante un tiempo. Y cuando las vacaciones llegaron, me volví a sentir vivo, porque hice una estupidez. Y las estupideces te hacen sentir vivo, aunque creas que solo te hacen sentir tonto.</p>

  </div>
  <div class="col-md-12 text-center"style="z-index: 5;" align="center">
    <a class="btn btn-coffee btn-border" href="../Recuerdo 3/loader/index.html" style="z-index: 3; margin-left: auto;margin-bottom: 100px; outline: none;color: #0da6c2; text-align: center;border-color: #0da6c2; font-size:20px;">Siguiente...</a>
    <br>
    <a class="btn btn-coffee btn-border" href="../../Canciones y Recuerdos.html#service" style="z-index: 3; margin-left: auto;margin-top: -150px; outline: none;color: #b7c813; text-align: center;border-color: #b7c813; font-size:20px;">Volver al Índice</a>
  </div>

</body>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script  src="../../js/scriptread.js"></script>
  <link rel="stylesheet" href="../../css/dark.css">
    <script src="../../js/dark.js"></script>
  <script type="text/javascript">
  $(function()
{
    var playerTrack = $("#player-track"), bgArtwork = $('#bg-artwork'), bgArtworkUrl, albumName = $('#album-name'), trackName = $('#track-name'), albumArt = $('#album-art'), sArea = $('#s-area'), seekBar = $('#seek-bar'), trackTime = $('#track-time'), insTime = $('#ins-time'), sHover = $('#s-hover'), playPauseButton = $("#play-pause-button"),  i = playPauseButton.find('ion-icon'), tProgress = $('#current-time'), tTime = $('#track-length'), seekT, seekLoc, seekBarPos, cM, ctMinutes, ctSeconds, curMinutes, curSeconds, durMinutes, durSeconds, playProgress, bTime, nTime = 0, buffInterval = null, tFlag = false, albums = ['Without You'], trackNames = ['Avicii feat. Sandro Cavazza'], albumArtworks = ['_1'], trackUrl = ['recuerdo2.mp3'], playPreviousTrackButton = $('#play-previous'), playNextTrackButton = $('#play-next'), currIndex = -1;

    function playPause()
    {
        setTimeout(function()
        {
            if(audio.paused)
            {
                playerTrack.addClass('active');
                albumArt.addClass('active');
                checkBuffering();
                i.attr('name','pause');
                audio.play();
            }
            else
            {
                playerTrack.removeClass('active');
                albumArt.removeClass('active');
                clearInterval(buffInterval);
                albumArt.removeClass('buffering');
                i.attr('name','play-circle');
                audio.pause();
            }
        },300);
    }


	function showHover(event)
	{
		seekBarPos = sArea.offset();
		seekT = event.clientX - seekBarPos.left;
		seekLoc = audio.duration * (seekT / sArea.outerWidth());

		sHover.width(seekT);

		cM = seekLoc / 60;

		ctMinutes = Math.floor(cM);
		ctSeconds = Math.floor(seekLoc - ctMinutes * 60);

		if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

        if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

		if(ctMinutes < 10)
			ctMinutes = '0'+ctMinutes;
		if(ctSeconds < 10)
			ctSeconds = '0'+ctSeconds;

        if( isNaN(ctMinutes) || isNaN(ctSeconds) )
            insTime.text('--:--');
        else
		    insTime.text(ctMinutes+':'+ctSeconds);

		insTime.css({'left':seekT,'margin-left':'-21px'}).fadeIn(0);

	}

    function hideHover()
	{
        sHover.width(0);
        insTime.text('00:00').css({'left':'0px','margin-left':'0px'}).fadeOut(0);
    }

    function playFromClickedPos()
    {
        audio.currentTime = seekLoc;
		seekBar.width(seekT);
		hideHover();
    }

    function updateCurrTime()
	{
        nTime = new Date();
        nTime = nTime.getTime();

        if( !tFlag )
        {
            tFlag = true;
            trackTime.addClass('active');
        }

		curMinutes = Math.floor(audio.currentTime / 60);
		curSeconds = Math.floor(audio.currentTime - curMinutes * 60);

		durMinutes = Math.floor(audio.duration / 60);
		durSeconds = Math.floor(audio.duration - durMinutes * 60);

		playProgress = (audio.currentTime / audio.duration) * 100;

		if(curMinutes < 10)
			curMinutes = '0'+curMinutes;
		if(curSeconds < 10)
			curSeconds = '0'+curSeconds;

		if(durMinutes < 10)
			durMinutes = '0'+durMinutes;
		if(durSeconds < 10)
			durSeconds = '0'+durSeconds;

        if( isNaN(curMinutes) || isNaN(curSeconds) )
            tProgress.text('00:00');
        else
		    tProgress.text(curMinutes+':'+curSeconds);

        if( isNaN(durMinutes) || isNaN(durSeconds) )
            tTime.text('00:00');
        else
		    tTime.text(durMinutes+':'+durSeconds);

        if( isNaN(curMinutes) || isNaN(curSeconds) || isNaN(durMinutes) || isNaN(durSeconds) )
            trackTime.removeClass('active');
        else
            trackTime.addClass('active');


		seekBar.width(playProgress+'%');

		if( playProgress == 100 )
		{
			i.attr('name','play-circle');
			seekBar.width(0);
            tProgress.text('00:00');
            albumArt.removeClass('buffering').removeClass('active');
            clearInterval(buffInterval);
		}
    }

    function checkBuffering()
    {
        clearInterval(buffInterval);
        buffInterval = setInterval(function()
        {
            if( (nTime == 0) || (bTime - nTime) > 1000  )
                albumArt.addClass('buffering');
            else
                albumArt.removeClass('buffering');

            bTime = new Date();
            bTime = bTime.getTime();

        },100);
    }

    function selectTrack(flag)
    {
        if( flag == 0 || flag == 1 )
            ++currIndex;
        else
            --currIndex;

        if( (currIndex > -1) && (currIndex < albumArtworks.length) )
        {
            if( flag == 0 )
                i.attr('name','play-circle');
            else
            {
                albumArt.removeClass('buffering');
                i.attr('name','pause');
            }

            seekBar.width(0);
            trackTime.removeClass('active');
            tProgress.text('00:00');
            tTime.text('00:00');

            currAlbum = albums[currIndex];
            currTrackName = trackNames[currIndex];
            currArtwork = albumArtworks[currIndex];

            audio.src = trackUrl[currIndex];

            nTime = 0;
            bTime = new Date();
            bTime = bTime.getTime();

            if(flag != 0)
            {
                audio.play();
                playerTrack.addClass('active');
                albumArt.addClass('active');

                clearInterval(buffInterval);
                checkBuffering();
            }

            albumName.text(currAlbum);
            trackName.text(currTrackName);
            albumArt.find('img.active').removeClass('active');
            $('#'+currArtwork).addClass('active');

            bgArtworkUrl = $('#'+currArtwork).attr('src');

            bgArtwork.css({'background-image':'url('+bgArtworkUrl+')'});
        }
        else
        {
            if( flag == 0 || flag == 1 )
                --currIndex;
            else
                ++currIndex;
        }
    }

    function initPlayer()
	{
        audio = new Audio();

		selectTrack(0);

		audio.loop = true;

		playPauseButton.on('click',playPause);

		sArea.mousemove(function(event){ showHover(event); });

        sArea.mouseout(hideHover);

        sArea.on('click',playFromClickedPos);

        $(audio).on('timeupdate',updateCurrTime);

        playPreviousTrackButton.on('click',function(){ selectTrack(-1);} );
        playNextTrackButton.on('click',function(){ selectTrack(1);});
	}

	initPlayer();
});
  </script>
</body>
</html>
