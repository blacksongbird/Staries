<!DOCTYPE html>

<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Memoria 7</title>
  <link rel="stylesheet" href="../../css/stylemym.css">
  <link rel="shortcut icon" href="../../logo.ico">
  <script src="../../js/removeBanner.js"></script>

</head>
<body>
<!-- update the version number as needed -->
<script defer src="../../__/firebase/7.14.6/firebase-app.js"></script>
<!-- include only the Firebase features as you need -->
<script defer src="../../__/firebase/7.14.6/firebase-auth.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-database.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-messaging.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-storage.js"></script>
<script defer src="../../__/firebase/7.14.6/firebase-firestore.js"></script>
<!-- initialize the SDK after all desired features are loaded -->
<script defer src="../../__/firebase/init.js"></script>
<script src="../../firebase-utils.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
      try {
        let app = firebase.app();
        StariesAccount.Observer();
      } catch (e) {
        console.error(e);
      }
    });
  </script>
<!-- partial:index.partial.html -->
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Montserrat+Alternates:600|Montserrat:500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/buttonmym.css">
  <link rel="stylesheet" href="../../css/playermym.css">
  <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
</head>

<body>
  <div id="progress"></div>
<br>
        <div class="switch"><span class="switch-text">Modo Oscuro:</span>
            <span class="inner-switch">OFF</span>
        </div>
  <div class="container">
    <h1>Primer Beso</h1>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div id="app-cover">
        <div id="bg-artwork"></div>
        <div id="bg-layer"></div>
        <div id="player">
            <div id="player-track">
                <div id="album-name"></div>
                <div id="track-name"></div>
                <div id="track-time">
                    <div id="current-time"></div>
                    <div id="track-length"></div>
                </div>
                <div id="s-area">
                    <div id="ins-time"></div>
                    <div id="s-hover"></div>
                    <div id="seek-bar"></div>
                </div>
            </div>
            <div id="player-content">
                <div id="album-art">
                    <img src="../../img/mym/Memory7Art.png" class="active" id="_1">
                    <div id="buffer-box">Buffering ...</div>
                </div>
                <div id="player-controls">
                    <div class="control">
                        <div class="button" id="play-pause-button">
                            <ion-icon name="play-circle" id="iconoboton"></ion-icon>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <span class="byline">Memoria 7</span><br><br><br>
    <span class="byline">Melodías y Memorias - Gabriel Lobo</span>

      <p>Nunca nos diremos adiós, ¿verdad? A lo largo de mi vida he experimentado tanto despedidas como reencuentros. Y ambos son difíciles de asimilar. No, no quiero asustarlos, no voy a narrar una despedida ni un reencuentro. Solo asegúrense de recordarlo más adelante.</p>

      <p>&emsp;&emsp;Desde que Sea se volvió mi novia, comenzó una época de tranquilidad y paz. Cada día, poco a poco, me enamoraba cada vez más de ella. Limeranza II, ¿recuerdan? La llegada de la tercera fase de la teoría era inminente, y vaya que provocaría problemas.</p>

      <p>&emsp;&emsp;Nuestra historia retoma su curso el 10 de mayo —2017, por si no prestaste atención—. Ese miércoles, en la tarde, estuve lo que quedaba de mi clase libre con Sea. Nos sentamos en unas bancas metálicas de color azul oxidado. Las nubes en el firmamento cubrían los rayos solares, otorgándonos una tarde oscura a todos los que estábamos en el instituto a esa hora. No había muchas otras personas en los alrededores, a excepción de otras dos parejas en los extremos de la extensa banca. Ambos portábamos un collar de cuerda negra, del cual colgaba un anillo con diseño de doradas Trifuerzas —de nuevo, Google—, ambos eran de un brillante tono negro metálico.</p>

      <p>&emsp;&emsp;—¿Quién fue tu primer beso? —preguntó con una inocente curiosidad.</p>

      <p>&emsp;&emsp;—Bueno… Yo… Yo aún no he besado a nadie —contesté, algo avergonzado.</p>

      <p>&emsp;&emsp;—¡¿En serio?! —exclamó sorprendida.</p>

      <p>&emsp;&emsp;—Bueno, en realidad… —en ese instante, me giré hacia ella, la miré a los ojos, con mis manos acerqué suavemente su rostro hacia mí y, lentamente, la besé.</p>

      <p>Ese fue mi primer beso, y lo recuerdo como si hubiera pasado ayer. Sin embargo, ese no fue el último. Alrededor de un mes y medio después, comenzó el verano, y las vacaciones no tardaron en arribar. En la primera semana de libertad —el martes, para ser exactos— invité a Sea, al Amigo de Lentes y Cabello Alborotado y a otro amigo a mi casa a jugar videojuegos, comer y ver alguna película. Recuerdo haber invitado a Roy, pero no pudo asistir debido a que, en ese entonces, se encontraba en Estados Unidos —y fue ahí cuando me enteré de que, en realidad, él era estadounidense; lo que explicaba su perfecto inglés—.</p>

      <p>&emsp;&emsp;Sea fue la segunda en llegar, presidida por uno de mis amigos y seguida por el Amigo de Lentes y Cabello Alborotado —no crean que no sé su nombre ni mucho menos, simplemente prefiero guardarlo para cuando sea algo pertinente—. Tras su llegada, comimos pizza mientras veíamos Los Ilusionistas. Cuando acabamos de comer, jugamos Super Smash Bros para Wii U —y otra vez, Google—. Si desconoces o no te interesan los videojuegos, puedes saltar el próximo párrafo.</p>

      <p>&emsp;&emsp;Sea, como casi todas las chicas en el juego, usó a Kirby, mientras que yo, fiel a mi saga favorita, jugué con Link. El Amigo de Lentes y Cabello Alborotado eligió a Little Mac y el otro amigo peleó con Ness. Tras unas batallas grupales, hicimos duelos en parejas, de los cuales Sea ganó 2 y yo gané 3. Listo, cortando la palabrería geek, podemos seguir con la historia.</p>

      <p>&emsp;&emsp;Cuando acabamos de jugar, ya había anochecido, y decidimos continuar viendo Los Ilusionistas 2. Para ese momento, uno de mis amigos ya se había ido, y en la sala de estar solo quedábamos Sea, El Amigo de Lentes y Cabello Alborotado, Adam y yo. Durante la película, percibí el aroma de su perfume desde muy cerca, y disfruté con ella todo el tiempo que estuve a su lado. Me volví adicto a ella, a su sonrisa, a sus brillantes ojos color marrón, al olor de su perfume en su cabello y a sus abrazos y caricias. Dicen que las cosas que más se disfrutan son aquellas que duran menos; esos pequeños y maravillosos milagros que llamamos instantes, en los cuales las almas de dos amantes están tan cerca que casi se pueden tocar, hasta el punto en el que parecen una sola alma. Esa sensación de paz, en la que sabes que todo estará bien y que estás donde debes estar, y más importante, con quien debes estar. Por desgracia, esos son los momentos más fugaces de la vida. Esos instantes son la viva esencia de mis memorias.</p>

      <p>&emsp;&emsp;—Te amo —susurré a su oído tras besarla.</p>

      <p>&emsp;&emsp;—Y yo a ti.</p>

      <p>Sé que les dije que no narraría una despedida, pero con esto me refería a una permanente. Las temporales siempre existirán, al igual que las permanentes. Y no existe peor cosa que saber que te despedirás de alguien en algún momento. Por eso, cuando la llevo de vuelta a su casa, no hago más que aferrarme a su mano, sabiendo que probablemente, no la veré de nuevo mañana, ni el día siguiente, ni el siguiente —ni el siguiente del siguiente—. Así es, amor; si alguna vez llegas a leer todo lo que he narrado y todo lo que escribiré, debes saber lo que sentí en cada recuerdo que comparto contigo, así como cada canción que tengo en mi memoria que me recuerdan a ti.</p>

  </div>
  <div class="col-md-12 text-center"style="z-index: 5;" align="center">
    <a class="btn btn-coffee btn-border" href="../Memoria 8/loader/index.html" style="z-index: 3; margin-left: auto;margin-bottom: 100px; outline: none;color: #800080; text-align: center;border-color: #800080;font-size:20px;">Siguiente...</a>
    <br>
    <a class="btn btn-coffee btn-border" href="../../Melodías y Memorias.html#service" style="z-index: 3; margin-left: auto;margin-top: -150px; outline: none;color: #57a639; text-align: center;border-color: #57a639;font-size:20px;">Volver al Índice</a>
  </div>

</body>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script  src="../../js/scriptread.js"></script>
  <link rel="stylesheet" href="../../css/dark.css">
    <script src="../../js/dark.js"></script>
  <script type="text/javascript">
  $(function()
{
    var playerTrack = $("#player-track"), bgArtwork = $('#bg-artwork'), bgArtworkUrl, albumName = $('#album-name'), trackName = $('#track-name'), albumArt = $('#album-art'), sArea = $('#s-area'), seekBar = $('#seek-bar'), trackTime = $('#track-time'), insTime = $('#ins-time'), sHover = $('#s-hover'), playPauseButton = $("#play-pause-button"),  i = playPauseButton.find('ion-icon'), tProgress = $('#current-time'), tTime = $('#track-length'), seekT, seekLoc, seekBarPos, cM, ctMinutes, ctSeconds, curMinutes, curSeconds, durMinutes, durSeconds, playProgress, bTime, nTime = 0, buffInterval = null, tFlag = false, albums = ['Monaco'], trackNames = ['MKTO'], albumArtworks = ['_1'], trackUrl = ['memoria7.mp3'], playPreviousTrackButton = $('#play-previous'), playNextTrackButton = $('#play-next'), currIndex = -1;

    function playPause()
    {
        setTimeout(function()
        {
            if(audio.paused)
            {
                playerTrack.addClass('active');
                albumArt.addClass('active');
                checkBuffering();
                i.attr('name','pause');
                audio.play();
            }
            else
            {
                playerTrack.removeClass('active');
                albumArt.removeClass('active');
                clearInterval(buffInterval);
                albumArt.removeClass('buffering');
                i.attr('name','play-circle');
                audio.pause();
            }
        },300);
    }


	function showHover(event)
	{
		seekBarPos = sArea.offset();
		seekT = event.clientX - seekBarPos.left;
		seekLoc = audio.duration * (seekT / sArea.outerWidth());

		sHover.width(seekT);

		cM = seekLoc / 60;

		ctMinutes = Math.floor(cM);
		ctSeconds = Math.floor(seekLoc - ctMinutes * 60);

		if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

        if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

		if(ctMinutes < 10)
			ctMinutes = '0'+ctMinutes;
		if(ctSeconds < 10)
			ctSeconds = '0'+ctSeconds;

        if( isNaN(ctMinutes) || isNaN(ctSeconds) )
            insTime.text('--:--');
        else
		    insTime.text(ctMinutes+':'+ctSeconds);

		insTime.css({'left':seekT,'margin-left':'-21px'}).fadeIn(0);

	}

    function hideHover()
	{
        sHover.width(0);
        insTime.text('00:00').css({'left':'0px','margin-left':'0px'}).fadeOut(0);
    }

    function playFromClickedPos()
    {
        audio.currentTime = seekLoc;
		seekBar.width(seekT);
		hideHover();
    }

    function updateCurrTime()
	{
        nTime = new Date();
        nTime = nTime.getTime();

        if( !tFlag )
        {
            tFlag = true;
            trackTime.addClass('active');
        }

		curMinutes = Math.floor(audio.currentTime / 60);
		curSeconds = Math.floor(audio.currentTime - curMinutes * 60);

		durMinutes = Math.floor(audio.duration / 60);
		durSeconds = Math.floor(audio.duration - durMinutes * 60);

		playProgress = (audio.currentTime / audio.duration) * 100;

		if(curMinutes < 10)
			curMinutes = '0'+curMinutes;
		if(curSeconds < 10)
			curSeconds = '0'+curSeconds;

		if(durMinutes < 10)
			durMinutes = '0'+durMinutes;
		if(durSeconds < 10)
			durSeconds = '0'+durSeconds;

        if( isNaN(curMinutes) || isNaN(curSeconds) )
            tProgress.text('00:00');
        else
		    tProgress.text(curMinutes+':'+curSeconds);

        if( isNaN(durMinutes) || isNaN(durSeconds) )
            tTime.text('00:00');
        else
		    tTime.text(durMinutes+':'+durSeconds);

        if( isNaN(curMinutes) || isNaN(curSeconds) || isNaN(durMinutes) || isNaN(durSeconds) )
            trackTime.removeClass('active');
        else
            trackTime.addClass('active');


		seekBar.width(playProgress+'%');

		if( playProgress == 100 )
		{
			i.attr('name','play-circle');
			seekBar.width(0);
            tProgress.text('00:00');
            albumArt.removeClass('buffering').removeClass('active');
            clearInterval(buffInterval);
		}
    }

    function checkBuffering()
    {
        clearInterval(buffInterval);
        buffInterval = setInterval(function()
        {
            if( (nTime == 0) || (bTime - nTime) > 1000  )
                albumArt.addClass('buffering');
            else
                albumArt.removeClass('buffering');

            bTime = new Date();
            bTime = bTime.getTime();

        },100);
    }

    function selectTrack(flag)
    {
        if( flag == 0 || flag == 1 )
            ++currIndex;
        else
            --currIndex;

        if( (currIndex > -1) && (currIndex < albumArtworks.length) )
        {
            if( flag == 0 )
                i.attr('name','play-circle');
            else
            {
                albumArt.removeClass('buffering');
                i.attr('name','pause');
            }

            seekBar.width(0);
            trackTime.removeClass('active');
            tProgress.text('00:00');
            tTime.text('00:00');

            currAlbum = albums[currIndex];
            currTrackName = trackNames[currIndex];
            currArtwork = albumArtworks[currIndex];

            audio.src = trackUrl[currIndex];

            nTime = 0;
            bTime = new Date();
            bTime = bTime.getTime();

            if(flag != 0)
            {
                audio.play();
                playerTrack.addClass('active');
                albumArt.addClass('active');

                clearInterval(buffInterval);
                checkBuffering();
            }

            albumName.text(currAlbum);
            trackName.text(currTrackName);
            albumArt.find('img.active').removeClass('active');
            $('#'+currArtwork).addClass('active');

            bgArtworkUrl = $('#'+currArtwork).attr('src');

            bgArtwork.css({'background-image':'url('+bgArtworkUrl+')'});
        }
        else
        {
            if( flag == 0 || flag == 1 )
                --currIndex;
            else
                ++currIndex;
        }
    }

    function initPlayer()
	{
        audio = new Audio();

		selectTrack(0);

		audio.loop = true;

		playPauseButton.on('click',playPause);

		sArea.mousemove(function(event){ showHover(event); });

        sArea.mouseout(hideHover);

        sArea.on('click',playFromClickedPos);

        $(audio).on('timeupdate',updateCurrTime);

        playPreviousTrackButton.on('click',function(){ selectTrack(-1);} );
        playNextTrackButton.on('click',function(){ selectTrack(1);});
	}

	initPlayer();
});
  </script>
</body>
</html>
