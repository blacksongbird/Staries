<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Recuerdo 10</title>
  <link rel="stylesheet" href="../../css/stylecyr.css">
  <link rel="shortcut icon" href="../../logo.ico">
  <script src="../../js/removeBanner.js"></script>

</head>
<body>
<!-- partial:index.partial.html -->
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Montserrat+Alternates:600|Montserrat:500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/buttoncyr.css">
  <link rel="stylesheet" href="../../css/playercyr.css">
  <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
</head>

<body>
  <div id="progress"></div>
<br>
        <div class="switch"><span class="switch-text">Modo Oscuro:</span>
            <span class="inner-switch">OFF</span>
        </div>
  <div class="container">
    <h1 style="font-family:'Montserrat Alternates';">Interludio del Desastre</h1>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div id="app-cover">
        <div id="bg-artwork"></div>
        <div id="bg-layer"></div>
        <div id="player">
            <div id="player-track">
                <div id="album-name"></div>
                <div id="track-name"></div>
                <div id="track-time">
                    <div id="current-time"></div>
                    <div id="track-length"></div>
                </div>
                <div id="s-area">
                    <div id="ins-time"></div>
                    <div id="s-hover"></div>
                    <div id="seek-bar"></div>
                </div>
            </div>
            <div id="player-content">
                <div id="album-art">
                    <img src="../../img/cyr/Flashback10Art.png" class="active" id="_1">
                    <div id="buffer-box">Buffering ...</div>
                </div>
                <div id="player-controls">
                  <div class="control">
                        <div class="button" id="play-pause-button">
                            <ion-icon name="play-circle" id="iconoboton"></ion-icon>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <span class="byline">Recuerdo 10</span><br><br><br>
    <span class="byline">Canciones y Recuerdos - Gabriel Lobo</span>

      <p>¿Ya te aburriste? ¿Sí? Bueno, no te culpo. Después de todo, la historia ha tenido muchísimos altibajos. Es normal sentirte en una montaña rusa. Yo me siento así ahora mismo. No es fácil mantener el mismo ritmo siempre. Pero haré lo posible para no decepcionarte. Hemos llegado bastante lejos, de todas formas.</p>

      <p>&emsp;&emsp;Te contaré sobre la noche más hermosa de mi 2018. Era jueves. Como era costumbre, debía quedarme en el Instituto a recibir clases de un curso complementario que incluso hoy en día, sigo llevando —y probablemente seguiré con él hasta el día de mi graduación—. Pero llevémoslo con calma. Todavía faltan 2 años, y tú y yo sabemos mejor que nadie que cualquier cosa te puede pasar en 24 meses. Es decir, si la vida cambia con un simple instante, ¿cuánto crees que podría llegar a cambiar en ese largo tiempo?</p>

      <p>&emsp;&emsp;Ese día en particular, pasé todo el día en el taller de electrónica, y gracias a la particularidad de horarios durante noveno año, ambas mitades estábamos en el mismo taller. Seguían siendo clases separadas, pero verla era ahora mucho más sencillo que antes —que era malo, y bueno al mismo tiempo, era una especie de manzana prohibida para mí—.</p>

      <p>&emsp;&emsp;Ya había pasado varios días con Sea; nuestro lazo crecía y crecía y volvía a ser aquello que alguna vez dejé atrás. Pero era imposible, ¿no? ¿Cómo era siquiera posible que volviera a la normalidad?</p>

      <p>&emsp;&emsp;Fue entonces cuando, por cosas del destino, ese día, pese a que no hubo previo aviso, no tuvimos clases de ese curso en particular, por lo que debíamos quedarnos en el instituto hasta las 20:00. Fue por eso que tuve toda la tarde libre hasta la noche, y todo ese tiempo, estuve con ella. La magia existe —no, no soy un niño que aún no supera a Santa Claus o al hada de los dientes—. Pero la cultura popular la ha tergiversado a lo largo de los años. La magia no es una varita ni un Expecto Patronum. Tampoco se trata de un anillo que te hace invisible. Y mucho menos de un conejo saliendo de un sombrero. La magia ha estado con el hombre por mucho tiempo, y generación con generación, se ha malinterpretado su significado y existencia. Lo cierto es que muchos la llaman suerte, otros destino, otros Jesús, Mahoma, ciencia, lógica, matemática, magia, Dios. Al fin y al cabo, sean distintas entidades o seres iguales, lo cierto es que existen, sin importar de qué ángulo quieras verlo. Y esa noche, por Dios. Esa noche, te puedo jurar que cada detalle estaba planeado meticulosamente. Era como si una mano moviera cada condición, cada átomo de nuestra existencia, cada "coincidencia" para que calzara de manera perfecta.</p>

      <p>&emsp;&emsp;Fue entonces cuando los demás chicos que estaban con nosotros en el curso decidieron ir a un restaurante cercano por comida. Sea y yo nos quedamos aquí. Sea seguía con su relación a larga distancia, y debo admitir que debí haber esperado a que terminaran por completo para evitar peores desastres más adelante. Pero si pudiera ver el futuro, quizás Él no sería Dios, y si yo no me tropezara de vez en cuando, ¿de qué me serviría la fe?</p>

      <p>&emsp;&emsp;Me armé de valor y le confesé a Sea mis sentimientos, una tercera vez, le dije lo mucho que lamentaba todo lo que había ocurrido entre nosotros y que era hora de dejar todo atrás —pero estos son demonios que nos perseguirán hasta el último de nuestros días, y creer que los podríamos olvidar tan fácilmente fue nada más y nada menos que una estúpida e inocente ilusión de dos niños enamorados—. Ella asintió y me dijo que sentía lo mismo —esto me quitó gran peso de encima, pero inmediatamente, su novio me vino a la cabeza—. Ella me aseguró que las cosas con él no funcionarían y menos ahora que sentía algo por mí, y que por eso le diría que fueran solo amigos. Sin embargo, me pidió un tiempo antes de iniciar —o reiniciar— nuestra relación; la Expo le demandaba demasiado tiempo y yo lo sabía, y solo quería ser un apoyo, no una carga o una distracción.</p>

      <p>&emsp;&emsp;Después de esperar un rato, subimos a lo más alto del Instituto, el comedor es una estructura que más de una vez juzgué como inestable —¿pero qué rayos sé yo? Después de todo tu eres mucho mejor que yo en esa área, obviamente—. Pero los ventanales que posee la parte superior del mismo permiten, durante la noche, ver todas las estrellas y las luces de La Ciudad Sin Nombre. Debo confesar que entramos sin permiso —así que, si eres un profesor que está leyendo esto, Mamá o Papá, lo siento de antemano, pero estas fueron algunas de mis travesuras adolescentes—. Pero lo volvería a hacer mil veces con tal de ver ese paisaje de nuevo. Era tan inmenso y descomunal que las estrellas y las luces parecían ser todo un mismo cielo, y que estábamos en la cima del mundo, solo ella y yo. Esa fue la primera vez que le presté atención a algo tan trivialmente hermoso como el cielo de la noche. Y me habría encantado poder estar ahí tan solo unos instantes más. Quizás así, las cosas hubieran acabado diferente.</p>

  </div>
  <div class="col-md-12 text-center"style="z-index: 5;" align="center">
    <a class="btn btn-coffee btn-border" href="../Recuerdo 11/loader/index.html" style="z-index: 3; margin-left: auto;margin-bottom: 100px; outline: none;color: #0da6c2; text-align: center;border-color: #0da6c2; font-size:20px;">Siguiente...</a>
    <br>
    <a class="btn btn-coffee btn-border" href="../../Canciones y Recuerdos.php#service" style="z-index: 3; margin-left: auto;margin-top: -150px; outline: none;color: #b7c813; text-align: center;border-color: #b7c813; font-size:20px;">Volver al Índice</a>
  </div>

</body>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script  src="../../js/scriptread.js"></script>
  <link rel="stylesheet" href="../../css/dark.css">
    <script src="../../js/dark.js"></script>
  <script type="text/javascript">
  $(function()
{
    var playerTrack = $("#player-track"), bgArtwork = $('#bg-artwork'), bgArtworkUrl, albumName = $('#album-name'), trackName = $('#track-name'), albumArt = $('#album-art'), sArea = $('#s-area'), seekBar = $('#seek-bar'), trackTime = $('#track-time'), insTime = $('#ins-time'), sHover = $('#s-hover'), playPauseButton = $("#play-pause-button"),  i = playPauseButton.find('ion-icon'), tProgress = $('#current-time'), tTime = $('#track-length'), seekT, seekLoc, seekBarPos, cM, ctMinutes, ctSeconds, curMinutes, curSeconds, durMinutes, durSeconds, playProgress, bTime, nTime = 0, buffInterval = null, tFlag = false, albums = ['The Good In Me'], trackNames = ['Jon Bellion'], albumArtworks = ['_1'], trackUrl = ['recuerdo10.mp3'], playPreviousTrackButton = $('#play-previous'), playNextTrackButton = $('#play-next'), currIndex = -1;

    function playPause()
    {
        setTimeout(function()
        {
            if(audio.paused)
            {
                playerTrack.addClass('active');
                albumArt.addClass('active');
                checkBuffering();
                i.attr('name','pause');
                audio.play();
            }
            else
            {
                playerTrack.removeClass('active');
                albumArt.removeClass('active');
                clearInterval(buffInterval);
                albumArt.removeClass('buffering');
                i.attr('name','play-circle');
                audio.pause();
            }
        },300);
    }


	function showHover(event)
	{
		seekBarPos = sArea.offset();
		seekT = event.clientX - seekBarPos.left;
		seekLoc = audio.duration * (seekT / sArea.outerWidth());

		sHover.width(seekT);

		cM = seekLoc / 60;

		ctMinutes = Math.floor(cM);
		ctSeconds = Math.floor(seekLoc - ctMinutes * 60);

		if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

        if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

		if(ctMinutes < 10)
			ctMinutes = '0'+ctMinutes;
		if(ctSeconds < 10)
			ctSeconds = '0'+ctSeconds;

        if( isNaN(ctMinutes) || isNaN(ctSeconds) )
            insTime.text('--:--');
        else
		    insTime.text(ctMinutes+':'+ctSeconds);

		insTime.css({'left':seekT,'margin-left':'-21px'}).fadeIn(0);

	}

    function hideHover()
	{
        sHover.width(0);
        insTime.text('00:00').css({'left':'0px','margin-left':'0px'}).fadeOut(0);
    }

    function playFromClickedPos()
    {
        audio.currentTime = seekLoc;
		seekBar.width(seekT);
		hideHover();
    }

    function updateCurrTime()
	{
        nTime = new Date();
        nTime = nTime.getTime();

        if( !tFlag )
        {
            tFlag = true;
            trackTime.addClass('active');
        }

		curMinutes = Math.floor(audio.currentTime / 60);
		curSeconds = Math.floor(audio.currentTime - curMinutes * 60);

		durMinutes = Math.floor(audio.duration / 60);
		durSeconds = Math.floor(audio.duration - durMinutes * 60);

		playProgress = (audio.currentTime / audio.duration) * 100;

		if(curMinutes < 10)
			curMinutes = '0'+curMinutes;
		if(curSeconds < 10)
			curSeconds = '0'+curSeconds;

		if(durMinutes < 10)
			durMinutes = '0'+durMinutes;
		if(durSeconds < 10)
			durSeconds = '0'+durSeconds;

        if( isNaN(curMinutes) || isNaN(curSeconds) )
            tProgress.text('00:00');
        else
		    tProgress.text(curMinutes+':'+curSeconds);

        if( isNaN(durMinutes) || isNaN(durSeconds) )
            tTime.text('00:00');
        else
		    tTime.text(durMinutes+':'+durSeconds);

        if( isNaN(curMinutes) || isNaN(curSeconds) || isNaN(durMinutes) || isNaN(durSeconds) )
            trackTime.removeClass('active');
        else
            trackTime.addClass('active');


		seekBar.width(playProgress+'%');

		if( playProgress == 100 )
		{
			i.attr('name','play-circle');
			seekBar.width(0);
            tProgress.text('00:00');
            albumArt.removeClass('buffering').removeClass('active');
            clearInterval(buffInterval);
		}
    }

    function checkBuffering()
    {
        clearInterval(buffInterval);
        buffInterval = setInterval(function()
        {
            if( (nTime == 0) || (bTime - nTime) > 1000  )
                albumArt.addClass('buffering');
            else
                albumArt.removeClass('buffering');

            bTime = new Date();
            bTime = bTime.getTime();

        },100);
    }

    function selectTrack(flag)
    {
        if( flag == 0 || flag == 1 )
            ++currIndex;
        else
            --currIndex;

        if( (currIndex > -1) && (currIndex < albumArtworks.length) )
        {
            if( flag == 0 )
                i.attr('name','play-circle');
            else
            {
                albumArt.removeClass('buffering');
                i.attr('name','pause');
            }

            seekBar.width(0);
            trackTime.removeClass('active');
            tProgress.text('00:00');
            tTime.text('00:00');

            currAlbum = albums[currIndex];
            currTrackName = trackNames[currIndex];
            currArtwork = albumArtworks[currIndex];

            audio.src = trackUrl[currIndex];

            nTime = 0;
            bTime = new Date();
            bTime = bTime.getTime();

            if(flag != 0)
            {
                audio.play();
                playerTrack.addClass('active');
                albumArt.addClass('active');

                clearInterval(buffInterval);
                checkBuffering();
            }

            albumName.text(currAlbum);
            trackName.text(currTrackName);
            albumArt.find('img.active').removeClass('active');
            $('#'+currArtwork).addClass('active');

            bgArtworkUrl = $('#'+currArtwork).attr('src');

            bgArtwork.css({'background-image':'url('+bgArtworkUrl+')'});
        }
        else
        {
            if( flag == 0 || flag == 1 )
                --currIndex;
            else
                ++currIndex;
        }
    }

    function initPlayer()
	{
        audio = new Audio();

		selectTrack(0);

		audio.loop = true;

		playPauseButton.on('click',playPause);

		sArea.mousemove(function(event){ showHover(event); });

        sArea.mouseout(hideHover);

        sArea.on('click',playFromClickedPos);

        $(audio).on('timeupdate',updateCurrTime);

        playPreviousTrackButton.on('click',function(){ selectTrack(-1);} );
        playNextTrackButton.on('click',function(){ selectTrack(1);});
	}

	initPlayer();
});
  </script>
</body>
</html>
