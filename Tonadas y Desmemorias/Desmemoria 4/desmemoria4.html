<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Desmemoria 4</title>
  <link rel="stylesheet" href="../../css/styletyd.css">
  <link rel="stylesheet" href="../../css/textmessage.css">
  <link rel="shortcut icon" href="../../logo.ico">
  <script src="../../js/removeBanner.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Montserrat+Alternates:600|Montserrat:500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/buttontyd.css">
  <link rel="stylesheet" href="../../css/playertyd.css">
  <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
</head>

<body>
  <div id="progress"></div>
<br>
        <div class="switch"><span class="switch-text">Modo Oscuro:</span>
            <span class="inner-switch">OFF</span>
        </div>
  <div class="container">
    <h1>claustrofobia</h1>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div id="app-cover">
        <div id="bg-artwork"></div>
        <div id="bg-layer"></div>
        <div id="player">
            <div id="player-track">
                <div id="album-name"></div>
                <div id="track-name"></div>
                <div id="track-time">
                    <div id="current-time"></div>
                    <div id="track-length"></div>
                </div>
                <div id="s-area">
                    <div id="ins-time"></div>
                    <div id="s-hover"></div>
                    <div id="seek-bar"></div>
                </div>
            </div>
            <div id="player-content">
                <div id="album-art">
                    <img src="../../img/tyd/Oblivion4Art.png" class="active" id="_1">
                    <div id="buffer-box">Buffering ...</div>
                </div>
                <div id="player-controls">
                    <div class="control">
                        <div class="button" id="play-pause-button">
                            <ion-icon name="play-circle" id="iconoboton"></ion-icon>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <span class="byline">Desmemoria 4</span><br><br><br>
    <span class="byline">Tonadas y Desmemorias - Gabriel Lobo</span>
    <p>Hola.</p>
    <p>Hace mucho que no escribo para ti. Me asusta que creas que te olvidé por completo. Pero eso sería imposible, hemos estado juntos desde el principio. Ansiedad acaba de encerrarme en una celda con un jarro de tinta y la máquina de escribir. No veo nada más allá de los barrotes, me pregunto dónde estará.</p>
    <p>&emsp;&emsp;Perdona. Es solo que hace mucho que no hablamos solo nosotros dos. Me gustaría poder despertar de este letargo inverosímil y darme cuenta de que sostienes mi mano. Quizás despertar en casa de Roy, esperando a que su madre termine de preparar un desayuno para ambos. O tal vez ver el atardecer durante el fin del mundo. Volver a rezar cada noche antes de dormir. Sonreír de vez en cuando. Llorar por un libro más que por un amigo. Jugar un videojuego para escapar de la realidad, a un mundo empapado en píxeles y colores con música que alimenta los más valuados recuerdos de mi infancia. Ver una película con Adam en la oscuridad de mi sala, atiborrándonos de palomitas y gaseosas que sabíamos que no nos dejarían dormir, pero no importaba porque la mañana del mañana sería eterna. Escuchar música por pasión más que por necesidad. Dejar descansar a mis exhaustos audífonos durante un día sin pensar en ellos. Dormir sin preocuparme por lo que pasaría mañana. Viajar hacia un destino incierto, tomado de la mano de alguien que no quiera estar en otra parte. Escuchar música bajo un cielo invadido por constelaciones. No sentirme excluido y ser la primera opción de alguien más. Soñar con alguien que también sueñe conmigo. Todas estas son cosas que he perdido, y que anhelo recuperar, aunque sé que no lo conseguiré. He perdido mi camino, me he perdido a mí y a mi mente en un sinfín de pensamientos ansiosos, fluyendo tormentosamente por mis ojos en forma de lágrimas, nublando mi vista cual acuarela sobre un lienzo.</p>
    
    <p>&emsp;&emsp;Pude haberte dicho sobre aquellas noches en las que nadie ama a las aves que no pueden volar. Pero no lo hice. Porque todo esto trataba de ti. Por Dios, si tan solo pudieras verte como yo te veo, entenderías el valor que verdaderamente tienes. Porque tú brillas, brillas como una... como una es... no. Tú brillas como tú. Y es lo que más me duele. Mi esperanza está cansada; dormida, ya no puede despertar. Desde esa noche, nada pudo volver a ser igual. Sé que nunca me dejarías atrás, pero estoy perdido esta vez. Sé que te dije adiós, a pesar de que aún conozco tus ojos y tus latidos. Y es gracias a eso que sé que tú ya no conoces a la persona que vez cuando me miras.</p>
    <p>&emsp;&emsp;Quiero volver a enamorarme sin sentir que está mal. Quiero volver a abrazar sin sentir miedo de soltar. Quiero volver a pensar sin lastimarme. Volver a sentir que lo que hago está bien. Quiero dejar de sentir que necesito dejar de sentir. Añoro aquellos días en los que mi mayor preocupación era mi temprana hora de dormir. Extraño tener a alguien con quien hablar por horas y horas sobre algo que probablemente no recordaríamos al día siguiente. Quiero volver a ser mejor de lo que fui ayer, superando a aquél que soy ahora. Quiero dejar atrás todos mis remordimientos, mis ataduras y mis debilidades. A todas aquellas personas que quizás no eran buenas para mí, o aquellas que sí, pero no lo demostraron hasta que ya era tarde. Necesito creer más en mí de lo que creo en los demás, tal vez así, dejaré de decepcionarme y comenzaré a ser más realista que pesimista, sin rayar en lo optimista. Porque si yo no creo en mí, nadie lo hará. Por más que digan que sí, por más que me quieran hacer creer que lo hacen, jamás podré ser amado hasta que logre aprender a amarme a mí mismo. Y creo que eso es lo más difícil de todo, ¿no? El reto más grande del amor no es aprender a amar a alguien más, sino aprender a amarte a ti mismo, a perdonarte a ti mismo, a ser tú mismo y ser feliz por ello. Porque si sigues tratando de ser alguien más, ¿qué pasará con aquella persona que tú pudiste alguna vez haber sido?</p>
    
    <p style="text-align:center;">*          *          *</p>
    
    <p>&emsp;&emsp;—Tonterías —exclama Ansiedad desde el otro lado de la reja.
    <br><br>&emsp;&emsp;—¿Dónde estabas?
    <br><br>&emsp;&emsp;—Dando un paseo por tus memorias para asegurarme de que no mientes con lo que escribes.
    <br><br>&emsp;&emsp;—Ya veo...
    <br><br>&emsp;&emsp;—¿Necesitas que te dicte? ¿O puedes seguir tú solo mientras me doy otra vuelta por tu cabeza? 
    <br><br>&emsp;&emsp;—Puedes largarte si quieres.
    <br><br>&emsp;&emsp;—De acuerdo, volveré en un par de horas, más o menos.
    <br><br>&emsp;&emsp;—Esperaré sentado —contesto mientras lo veo alejarse y consumirse en la oscuridad.</p>
    <p style="text-align:center;">*          *          *</p>
    <span class="byline">+21 de abril, 2019+</span><br><br>
    <div class="chat">
          <div class="chat-container">
            <div class="user-bar">
              <div class="back">
                <i class="zmdi zmdi-arrow-left"></i>
              </div>
              <div class="avatar">
                <img src="../../img/mym/sea1.png" alt="Avatar">
              </div>
              <div class="name">
                <span>Sea</span>
                <span class="status">online</span>
              </div>
              <div class="actions more">
                <i class="zmdi zmdi-more-vert"></i>
              </div>
              <div class="actions attachment">
                <i class="zmdi zmdi-attachment-alt"></i>
              </div>
              <div class="actions">
                <i class="zmdi zmdi-phone"></i>
              </div>
            </div>
        <div class="conversation">
            <div class="conversation-container">
                <div class="message sent">
                  Oye. Había olvidado preguntártelo. ¿Quieres que te devuelva tu suéter el lunes? Lo lavé, así que no tienes que preocuparte por eso.
                  <span class="metadata">
                      <span class="time"></span><span class="tick"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" id="msg-dblcheck-ack" x="2063" y="2076"><path d="M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z" fill="#4fc3f7"/></svg></span>
                  </span>
                </div>
                <div class="message received">
                    Pues si tú quieres.
                     <span class="metadata"><span class="time"></span></span>
                </div>
                <div class="message sent">
                  No lo sé, por eso te pregunto.
                  <span class="metadata">
                      <span class="time"></span><span class="tick"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" id="msg-dblcheck-ack" x="2063" y="2076"><path d="M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z" fill="#4fc3f7"/></svg></span>
                  </span>
                </div>
                <div class="message received">
                    ¿Tú quieres que te devuelva el tuyo?
                     <span class="metadata"><span class="time"></span></span>
                </div>
                <div class="message sent">
                  Si quieres conservarlo, puedes hacerlo.
                  <span class="metadata">
                      <span class="time"></span><span class="tick"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" id="msg-dblcheck-ack" x="2063" y="2076"><path d="M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z" fill="#4fc3f7"/></svg></span>
                  </span>
                </div>
                <div class="message received">
                    Gracias, lo mismo para ti.
                     <span class="metadata"><span class="time"></span></span>
                </div>
                <div class="message sent">
                  ¿Quieres que lo conserve?
                  <span class="metadata">
                      <span class="time"></span><span class="tick"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" id="msg-dblcheck-ack" x="2063" y="2076"><path d="M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z" fill="#4fc3f7"/></svg></span>
                  </span>
                </div>
                <div class="message received">
                    Pues sí, por mí no hay problema.
                     <span class="metadata"><span class="time"></span></span>
                </div>
        </div>
      </div><br><br>
    
    
  </div>
  <div class="col-md-12 text-center"style="z-index: 5;" align="center">
    <a class="btn btn-coffee btn-border" href="../Desmemoria 5/loader.html" style="z-index: 3; margin-left: auto;margin-bottom: 100px; outline: none;color: #e77320; text-align: center;border-color: #e77320; font-size:20px;">Siguiente</a>
    <br>
    <a class="btn btn-coffee btn-border" href="../../Tonadas y Desmemorias.php#service" style="z-index: 3; margin-left: auto;margin-top: -150px; outline: none;color: #083244; text-align: center;border-color: #083244; font-size:20px;">Volver al Índice</a>
  </div>

</body>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  <script src="../../js/scriptread.js"></script>
  <link rel="stylesheet" href="../../css/dark.css">
    <script src="../../js/dark.js"></script>
    <script type="text/javascript">
  $(function()
{
    var playerTrack = $("#player-track"), bgArtwork = $('#bg-artwork'), bgArtworkUrl, albumName = $('#album-name'), trackName = $('#track-name'), albumArt = $('#album-art'), sArea = $('#s-area'), seekBar = $('#seek-bar'), trackTime = $('#track-time'), insTime = $('#ins-time'), sHover = $('#s-hover'), playPauseButton = $("#play-pause-button"),  i = playPauseButton.find('ion-icon'), tProgress = $('#current-time'), tTime = $('#track-length'), seekT, seekLoc, seekBarPos, cM, ctMinutes, ctSeconds, curMinutes, curSeconds, durMinutes, durSeconds, playProgress, bTime, nTime = 0, buffInterval = null, tFlag = false, albums = ['Lost'], trackNames = ['Dermot Kennedy'], albumArtworks = ['_1'], trackUrl = ['desmemoria4.mp3'], playPreviousTrackButton = $('#play-previous'), playNextTrackButton = $('#play-next'), currIndex = -1;

    function playPause()
    {
        setTimeout(function()
        {
            if(audio.paused)
            {
                playerTrack.addClass('active');
                albumArt.addClass('active');
                checkBuffering();
                i.attr('name','pause');
                audio.play();
            }
            else
            {
                playerTrack.removeClass('active');
                albumArt.removeClass('active');
                clearInterval(buffInterval);
                albumArt.removeClass('buffering');
                i.attr('name','play-circle');
                audio.pause();
            }
        },300);
    }


	function showHover(event)
	{
		seekBarPos = sArea.offset();
		seekT = event.clientX - seekBarPos.left;
		seekLoc = audio.duration * (seekT / sArea.outerWidth());

		sHover.width(seekT);

		cM = seekLoc / 60;

		ctMinutes = Math.floor(cM);
		ctSeconds = Math.floor(seekLoc - ctMinutes * 60);

		if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

        if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

		if(ctMinutes < 10)
			ctMinutes = '0'+ctMinutes;
		if(ctSeconds < 10)
			ctSeconds = '0'+ctSeconds;

        if( isNaN(ctMinutes) || isNaN(ctSeconds) )
            insTime.text('--:--');
        else
		    insTime.text(ctMinutes+':'+ctSeconds);

		insTime.css({'left':seekT,'margin-left':'-21px'}).fadeIn(0);

	}

    function hideHover()
	{
        sHover.width(0);
        insTime.text('00:00').css({'left':'0px','margin-left':'0px'}).fadeOut(0);
    }

    function playFromClickedPos()
    {
        audio.currentTime = seekLoc;
		seekBar.width(seekT);
		hideHover();
    }

    function updateCurrTime()
	{
        nTime = new Date();
        nTime = nTime.getTime();

        if( !tFlag )
        {
            tFlag = true;
            trackTime.addClass('active');
        }

		curMinutes = Math.floor(audio.currentTime / 60);
		curSeconds = Math.floor(audio.currentTime - curMinutes * 60);

		durMinutes = Math.floor(audio.duration / 60);
		durSeconds = Math.floor(audio.duration - durMinutes * 60);

		playProgress = (audio.currentTime / audio.duration) * 100;

		if(curMinutes < 10)
			curMinutes = '0'+curMinutes;
		if(curSeconds < 10)
			curSeconds = '0'+curSeconds;

		if(durMinutes < 10)
			durMinutes = '0'+durMinutes;
		if(durSeconds < 10)
			durSeconds = '0'+durSeconds;

        if( isNaN(curMinutes) || isNaN(curSeconds) )
            tProgress.text('00:00');
        else
		    tProgress.text(curMinutes+':'+curSeconds);

        if( isNaN(durMinutes) || isNaN(durSeconds) )
            tTime.text('00:00');
        else
		    tTime.text(durMinutes+':'+durSeconds);

        if( isNaN(curMinutes) || isNaN(curSeconds) || isNaN(durMinutes) || isNaN(durSeconds) )
            trackTime.removeClass('active');
        else
            trackTime.addClass('active');


		seekBar.width(playProgress+'%');

		if( playProgress == 100 )
		{
			i.attr('name','play-circle');
			seekBar.width(0);
            tProgress.text('00:00');
            albumArt.removeClass('buffering').removeClass('active');
            clearInterval(buffInterval);
		}
    }

    function checkBuffering()
    {
        clearInterval(buffInterval);
        buffInterval = setInterval(function()
        {
            if( (nTime == 0) || (bTime - nTime) > 1000  )
                albumArt.addClass('buffering');
            else
                albumArt.removeClass('buffering');

            bTime = new Date();
            bTime = bTime.getTime();

        },100);
    }

    function selectTrack(flag)
    {
        if( flag == 0 || flag == 1 )
            ++currIndex;
        else
            --currIndex;

        if( (currIndex > -1) && (currIndex < albumArtworks.length) )
        {
            if( flag == 0 )
                i.attr('name','play-circle');
            else
            {
                albumArt.removeClass('buffering');
                i.attr('name','pause');
            }

            seekBar.width(0);
            trackTime.removeClass('active');
            tProgress.text('00:00');
            tTime.text('00:00');

            currAlbum = albums[currIndex];
            currTrackName = trackNames[currIndex];
            currArtwork = albumArtworks[currIndex];

            audio.src = trackUrl[currIndex];

            nTime = 0;
            bTime = new Date();
            bTime = bTime.getTime();

            if(flag != 0)
            {
                audio.play();
                playerTrack.addClass('active');
                albumArt.addClass('active');

                clearInterval(buffInterval);
                checkBuffering();
            }

            albumName.text(currAlbum);
            trackName.text(currTrackName);
            albumArt.find('img.active').removeClass('active');
            $('#'+currArtwork).addClass('active');

            bgArtworkUrl = $('#'+currArtwork).attr('src');

            bgArtwork.css({'background-image':'url('+bgArtworkUrl+')'});
        }
        else
        {
            if( flag == 0 || flag == 1 )
                --currIndex;
            else
                ++currIndex;
        }
    }

    function initPlayer()
	{
        audio = new Audio();

		selectTrack(0);

		audio.loop = true;

		playPauseButton.on('click',playPause);

		sArea.mousemove(function(event){ showHover(event); });

        sArea.mouseout(hideHover);

        sArea.on('click',playFromClickedPos);

        $(audio).on('timeupdate',updateCurrTime);

        playPreviousTrackButton.on('click',function(){ selectTrack(-1);} );
        playNextTrackButton.on('click',function(){ selectTrack(1);});
	}

	initPlayer();
});
  </script>
</body>
</html>
