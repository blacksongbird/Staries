<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Memoria 9</title>
  <link rel="stylesheet" href="../../css/stylemym.css">
  <link rel="shortcut icon" href="../../logo.ico">
  <script src="../../js/removeBanner.js"></script>

</head>
<body>
<!-- partial:index.partial.html -->
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Montserrat+Alternates:600|Montserrat:500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/buttonmym.css">
  <link rel="stylesheet" href="../../css/playermym.css">
  <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
</head>

<body>
  <div id="progress"></div>
<br>
        <div class="switch"><span class="switch-text">Modo Oscuro:</span>
            <span class="inner-switch">OFF</span>
        </div>
  <div class="container">
    <h1>Introducción al Desenlace</h1>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div id="app-cover">
        <div id="bg-artwork"></div>
        <div id="bg-layer"></div>
        <div id="player">
            <div id="player-track">
                <div id="album-name"></div>
                <div id="track-name"></div>
                <div id="track-time">
                    <div id="current-time"></div>
                    <div id="track-length"></div>
                </div>
                <div id="s-area">
                    <div id="ins-time"></div>
                    <div id="s-hover"></div>
                    <div id="seek-bar"></div>
                </div>
            </div>
            <div id="player-content">
                <div id="album-art">
                    <img src="../../img/mym/Memory9Art.png" class="active" id="_1">
                    <img src="../../img/mym/Memory9Art.png" id="_2">
                    <div id="buffer-box">Buffering ...</div>
                </div>
                <div id="player-controls" style='margin-left:145px; position:absolute; width:160px;'>
                    <div class="control">
                        <div class="button" id="play-previous">
                            <ion-icon name="skip-backward" id="iconoboton" style="color: #57a639; font-size:40px;"></ion-icon>
                        </div>
                    </div>
                    <div class="control">
                        <div class="button" id="play-pause-button">
                            <ion-icon name="play-circle" id="iconoboton" style="font-size:40px;"></ion-icon>
                        </div>
                    </div>
                    <div class="control">
                        <div class="button" id="play-next">
                            <ion-icon name="skip-forward" id="iconoboton" style="color: #57a639; font-size:40px;"></ion-icon>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <span class="byline">Memoria 9</span><br><br><br>
    <span class="byline">Melodías y Memorias - Gabriel Lobo</span>

      <p>A lo largo de mi vida, he escuchado a muchísimas personas utilizar el término “corazón roto”. Para ser sincero, muchas veces es empleado incorrectamente. Aquellos que sabemos qué es un corazón roto en realidad podemos definirlo como una sensación horrible. Sientes un dolor agudo y punzante en el pecho que llena de lágrimas tus ojos, mientras que, en tu cabeza, un pensamiento te desgarra el corazón, provocando ese terrible sufrimiento.</p>

      <p>&emsp;&emsp;Es por ello que las personas inteligentes suelen vivir muy infelices, porque su mente, al ser tan poderosa, se convierte en un arma de doble filo. Y los pensamientos que la habitan son espinas en la rosa del intelecto, las cuales se clavan tan profundamente que te provocan cicatrices en el alma.</p>

      <p>&emsp;&emsp;Durante estos 4 años, he intentado hacer siempre lo correcto con respecto a mis relaciones y amistades. Pero siempre acaban de una manera horrible. Y ese es el tema del que trata esta memoria.</p>

      <p>&emsp;&emsp;Este arco es una grieta en mi historia, por lo que es mejor presentarles página los antecedentes del problema y los resultados del mismo. Este es mi punto de vista, narrado con la mayor objetividad posible. Si formas parte de esta historia —Rebecca, Roy, Patrick, Adam, Tara, y sobre todo tú, Sea—, deberás tomar esto en cuenta a la hora de seguir el relato a través de las páginas que he escrito para ustedes y por ustedes. Y para los demás, solo presten atención a los detalles.</p>

      <h1 style="font-size: 30px;">-Introducción al Desenlace-</h1>
      <span class="byline">Toca <ion-icon name="skip-forward" style="font-size: 15px; color: #57a639"></ion-icon> en el reproductor para pasar a la siguiente canción. </span>
      <br><br>
      <p>Entre el octavo y noveno mes del 2017 —entre agosto y septiembre, para los perezosos— es cuando el color de rosa se desvanece. Este dio su último resplandor semanas antes, cuando Sea me obsequió un dibujo hecho completa y enteramente por ella. Ese día, al llegar al instituto, la encontré en una banca junto a su amiga de cabello colocho y exuberante; desde lejos distinguí que en su mano sostenía un papel enrollado con una cinta dorada brillante amarrada a su alrededor.</p>

      <p>&emsp;&emsp;—¡Ya lo terminé! —dijo con un brillo de ilusión en sus enormes y alegres ojos color marrón, característicos de ella.</p>

      <p>&emsp;&emsp;—¡Muchas gracias, amor! —exclamé mientras la abrazaba sin siquiera haber desenrollado el papel con apariencia de pergamino.</p>

      <p>Tomé un extremo de la cinta y tiré de él con delicadeza, de modo que el nudo se deshiciera lentamente. Luego, retiré la cinta dorada y desenrollé el papel. En su interior, había un dibujo de Link y Zelda, con el diseño de una de mis entregas favoritas de la saga: <i>The Legend Of Zelda: Skyward Sword</i>.</p>

      <p>&emsp;&emsp;Era precioso, el regalo más elaborado que alguien me había dado jamás. Lo enrollé y lo guardé para colocarlo en mi habitación cuando llegara a casa. Esa fue la última vez que me sentí completamente cómodo en mi relación con Sea.</p>

      <p>&emsp;&emsp;21 de septiembre. Recordaremos esa fecha muchas veces. Por ahora, la llamaremos El Día de la Grieta. Pero eso es algo que leerán después. Vamos a volver semanas atrás. Era algo que llevaba ocurriendo desde hace mucho tiempo, pero estaba oculto detrás el velo del enamoramiento.</p>

      <p>&emsp;&emsp;Tras un tiempo de salir con Sea, aproximadamente al cumplir los 5 meses, empezó la Etapa de los Celos. Fue algo que se coló en la relación de manera discreta; pasando prácticamente desapercibida al principio. Pero poco a poco se convirtió en un problema serio.</p>

      <p>&emsp;&emsp;Fue terrible descubrir que era yo quien sufría por esta situación. Yo siempre he tratado de hacer exactamente lo que me gustaría que los demás hicieran conmigo. Por eso, desde el primer instante en el que me convertí en el novio de Sea, me esforcé por hacer las cosas bien. No quería que se sintiera incómoda, ni mucho menos quería hacerla enojar ni lastimar. Pero mentiría si dijera que no hubo una época en la que sentí que no era algo mutuo; no sentía que fuera algo recíproco. Tocar este tema con ella varias veces fue algo agotador y me hacía sentir que yo era alguien necio,  pero al mismo tiempo empecé a ver que la situación se estaba convirtiendo en algo serio.</p>

      <p>&emsp;&emsp;Sea siempre fue una chica muy cariñosa.  Era una amiga de todos, ¿recuerdan? Bueno, el problema —al menos desde mi punto de vista,  que fue muy criticado en ese entonces— era que ella en ocasiones era más cariñosa de lo común. Nunca tuve problema con que abrazara a sus amigos, incluso me gustaba saber que los tenía. Me encantaba ver cómo ella estaba rodeada de otras personas que la amaban, casi tanto como yo. Pero la situación llegó a tal punto en el que había ocasiones en las que abrazaba más a sus amigos que a mí —y sí, lo hacía conmigo presente—. Pero como dije, no le di mucha importancia al principio. Pero fue como cuando le das vueltas a una palanca. Entre más la giras, más difícil se vuelve seguir girando, y llega un punto en el que la palanca se rompe. Todos tenemos un punto de quiebre. Y la situación creció tanto que alcancé mi punto de quiebre. Así que hablé con Sea. Y no fue solo una vez. Fueron varias veces. Sin embargo, la situación mejoraba al principio y luego, súbitamente, se volvía peor.</p>

      <p>&emsp;&emsp;Mi primer punto de quiebre —y sí, he tenido bastantes— fue durante el retiro que realizamos en el instituto. Desde el principio del viaje, supe que no me iba a divertir ni a pasarla bien desde que subí al autobús. En primer lugar, Sea decidió sentarse junto a su amiga, de modo que pensé que me podría sentar junto a Roy. Sentí un vacío en el estómago cuando me di cuenta de que Royo se sentaría con Patrick. No me quedó otra opción aparte de sentarme solo —abusando de mis audífonos, obviamente—, así que así fue.</p>

      <p>&emsp;&emsp;Una vez allá, pasé muy poco tiempo con Sea. Pero al regresar al autobús, la observé con el rabillo del ojo, y me di cuenta de que estaba caminando junto a alguien, mientras la abrazaba. En un inicio, creí que se trataba de su amiga, pero conforme mi visión se orientaba en su dirección, menos crédito le podía dar a mis propios ojos. Y entonces lo vi. Y en ese instante un dolor terrible y punzante me atravesó el pecho, mientras mis ojos se ponían vidriosos y sentía que moriría; confundiendo mi sufrimiento con una irregularidad cardiaca. Y desde ese primer instante, cada vez que lo recuerdo, siento ese mismo dolor —tal y como lo estoy sintiendo ahora—, y mis ojos vuelven a llenarse de lágrimas, mientras recorren mis mejillas como ríos. Suena muy dramático, pero así son los sentimientos de un ser humano. Dramáticos. Y con esto se une a la historia aquel por el que sufrí mucho en el 2017. Él es aquel Conocido Que Me Apuñaló por la Espalda.</p>

  </div>
  <div class="col-md-12 text-center"style="z-index: 5;" align="center">
    <a class="btn btn-coffee btn-border" href="../Memoria 10/loader/index.html" style="z-index: 3; margin-left: auto;margin-bottom: 100px; outline: none;color: #800080; text-align: center;border-color: #800080;font-size:20px;">Siguiente...</a>
    <br>
    <a class="btn btn-coffee btn-border" href="../../Melodías y Memorias.php#service" style="z-index: 3; margin-left: auto;margin-top: -150px; outline: none;color: #57a639; text-align: center;border-color: #57a639;font-size:20px;">Volver al Índice</a>
  </div>

</body>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script  src="../../js/scriptread.js"></script>
  <link rel="stylesheet" href="../../css/dark.css">
    <script src="../../js/dark.js"></script>
  <script type="text/javascript">
  $(function()
{
    var playerTrack = $("#player-track"), bgArtwork = $('#bg-artwork'), bgArtworkUrl, albumName = $('#album-name'), trackName = $('#track-name'), albumArt = $('#album-art'), sArea = $('#s-area'), seekBar = $('#seek-bar'), trackTime = $('#track-time'), insTime = $('#ins-time'), sHover = $('#s-hover'), playPauseButton = $("#play-pause-button"),  i = playPauseButton.find('ion-icon'), tProgress = $('#current-time'), tTime = $('#track-length'), seekT, seekLoc, seekBarPos, cM, ctMinutes, ctSeconds, curMinutes, curSeconds, durMinutes, durSeconds, playProgress, bTime, nTime = 0, buffInterval = null, tFlag = false, albums = ['Yumetourou','Cold (feat. Future)'], trackNames = ['RADWIMPS - Your Name','Maroon 5 feat. Future'], albumArtworks = ['_1','_2'], trackUrl = ['memoria9.1.mp3','memoria9.2.mp3'], playPreviousTrackButton = $('#play-previous'), playNextTrackButton = $('#play-next'), currIndex = -1;

    function playPause()
    {
        setTimeout(function()
        {
            if(audio.paused)
            {
                playerTrack.addClass('active');
                albumArt.addClass('active');
                checkBuffering();
                i.attr('name','pause');
                audio.play();
            }
            else
            {
                playerTrack.removeClass('active');
                albumArt.removeClass('active');
                clearInterval(buffInterval);
                albumArt.removeClass('buffering');
                i.attr('name','play-circle');
                audio.pause();
            }
        },300);
    }


	function showHover(event)
	{
		seekBarPos = sArea.offset();
		seekT = event.clientX - seekBarPos.left;
		seekLoc = audio.duration * (seekT / sArea.outerWidth());

		sHover.width(seekT);

		cM = seekLoc / 60;

		ctMinutes = Math.floor(cM);
		ctSeconds = Math.floor(seekLoc - ctMinutes * 60);

		if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

        if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

		if(ctMinutes < 10)
			ctMinutes = '0'+ctMinutes;
		if(ctSeconds < 10)
			ctSeconds = '0'+ctSeconds;

        if( isNaN(ctMinutes) || isNaN(ctSeconds) )
            insTime.text('--:--');
        else
		    insTime.text(ctMinutes+':'+ctSeconds);

		insTime.css({'left':seekT,'margin-left':'-21px'}).fadeIn(0);

	}

    function hideHover()
	{
        sHover.width(0);
        insTime.text('00:00').css({'left':'0px','margin-left':'0px'}).fadeOut(0);
    }

    function playFromClickedPos()
    {
        audio.currentTime = seekLoc;
		seekBar.width(seekT);
		hideHover();
    }

    function updateCurrTime()
	{
        nTime = new Date();
        nTime = nTime.getTime();

        if( !tFlag )
        {
            tFlag = true;
            trackTime.addClass('active');
        }

		curMinutes = Math.floor(audio.currentTime / 60);
		curSeconds = Math.floor(audio.currentTime - curMinutes * 60);

		durMinutes = Math.floor(audio.duration / 60);
		durSeconds = Math.floor(audio.duration - durMinutes * 60);

		playProgress = (audio.currentTime / audio.duration) * 100;

		if(curMinutes < 10)
			curMinutes = '0'+curMinutes;
		if(curSeconds < 10)
			curSeconds = '0'+curSeconds;

		if(durMinutes < 10)
			durMinutes = '0'+durMinutes;
		if(durSeconds < 10)
			durSeconds = '0'+durSeconds;

        if( isNaN(curMinutes) || isNaN(curSeconds) )
            tProgress.text('00:00');
        else
		    tProgress.text(curMinutes+':'+curSeconds);

        if( isNaN(durMinutes) || isNaN(durSeconds) )
            tTime.text('00:00');
        else
		    tTime.text(durMinutes+':'+durSeconds);

        if( isNaN(curMinutes) || isNaN(curSeconds) || isNaN(durMinutes) || isNaN(durSeconds) )
            trackTime.removeClass('active');
        else
            trackTime.addClass('active');


		seekBar.width(playProgress+'%');

		if( playProgress == 100 )
		{
			i.attr('name','play-circle');
			seekBar.width(0);
            tProgress.text('00:00');
            albumArt.removeClass('buffering').removeClass('active');
            clearInterval(buffInterval);
		}
    }

    function checkBuffering()
    {
        clearInterval(buffInterval);
        buffInterval = setInterval(function()
        {
            if( (nTime == 0) || (bTime - nTime) > 1000  )
                albumArt.addClass('buffering');
            else
                albumArt.removeClass('buffering');

            bTime = new Date();
            bTime = bTime.getTime();

        },100);
    }

    function selectTrack(flag)
    {
        if( flag == 0 || flag == 1 )
            ++currIndex;
        else
            --currIndex;

        if( (currIndex > -1) && (currIndex < albumArtworks.length) )
        {
            if( flag == 0 )
                i.attr('name','play-circle');
            else
            {
                albumArt.removeClass('buffering');
                i.attr('name','pause');
            }

            seekBar.width(0);
            trackTime.removeClass('active');
            tProgress.text('00:00');
            tTime.text('00:00');

            currAlbum = albums[currIndex];
            currTrackName = trackNames[currIndex];
            currArtwork = albumArtworks[currIndex];

            audio.src = trackUrl[currIndex];

            nTime = 0;
            bTime = new Date();
            bTime = bTime.getTime();

            if(flag != 0)
            {
                audio.play();
                playerTrack.addClass('active');
                albumArt.addClass('active');

                clearInterval(buffInterval);
                checkBuffering();
            }

            albumName.text(currAlbum);
            trackName.text(currTrackName);
            albumArt.find('img.active').removeClass('active');
            $('#'+currArtwork).addClass('active');

            bgArtworkUrl = $('#'+currArtwork).attr('src');

            bgArtwork.css({'background-image':'url('+bgArtworkUrl+')'});
        }
        else
        {
            if( flag == 0 || flag == 1 )
                --currIndex;
            else
                ++currIndex;
        }
    }

    function initPlayer()
	{
        audio = new Audio();

		selectTrack(0);

		audio.loop = true;

		playPauseButton.on('click',playPause);

		sArea.mousemove(function(event){ showHover(event); });

        sArea.mouseout(hideHover);

        sArea.on('click',playFromClickedPos);

        $(audio).on('timeupdate',updateCurrTime);

        playPreviousTrackButton.on('click',function(){ selectTrack(-1);} );
        playNextTrackButton.on('click',function(){ selectTrack(1);});
	}

	initPlayer();
});
  </script>
</body>
</html>
