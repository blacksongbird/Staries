<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Memoria 8</title>
  <link rel="stylesheet" href="../../css/stylemym.css">
  <link rel="shortcut icon" href="../../logo.ico">
  <script src="../../js/removeBanner.js"></script>

</head>
<body>
<!-- partial:index.partial.html -->
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Montserrat+Alternates:600|Montserrat:500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/buttonmym.css">
  <link rel="stylesheet" href="../../css/playermym.css">
  <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
</head>

<body>
  <div id="progress"></div>
<br>
        <div class="switch"><span class="switch-text">Modo Oscuro:</span>
            <span class="inner-switch">OFF</span>
        </div>
  <div class="container">
    <h1>Cuento de Hadas</h1>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div id="app-cover">
        <div id="bg-artwork"></div>
        <div id="bg-layer"></div>
        <div id="player">
            <div id="player-track">
                <div id="album-name"></div>
                <div id="track-name"></div>
                <div id="track-time">
                    <div id="current-time"></div>
                    <div id="track-length"></div>
                </div>
                <div id="s-area">
                    <div id="ins-time"></div>
                    <div id="s-hover"></div>
                    <div id="seek-bar"></div>
                </div>
            </div>
            <div id="player-content">
                <div id="album-art">
                    <img src="../../img/mym/Memory8Art.png" class="active" id="_1">
                    <div id="buffer-box">Buffering ...</div>
                </div>
                <div id="player-controls">
                    <div class="control">
                        <div class="button" id="play-pause-button">
                            <ion-icon name="play-circle" id="iconoboton"></ion-icon>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <span class="byline">Memoria 8</span><br><br><br>
    <span class="byline">Melodías y Memorias - Gabriel Lobo</span>

      <p>Una vez leí que algunas estrellas, tras cierto tiempo de brillar, encuentran a otra estrella de un tamaño similar al de ellas; y permanecen con esta pareja hasta que ambas se extinguen. Es un concepto muy dramático y profundo —aunque debo admitir que no sé si es cierto—. Los humanos somos estrellas, y todos brillamos con diferentes intensidades, pero seguimos siendo lo mismo, y al mismo tiempo, somos algo diferentes. Pero allá afuera, quizás en el otro lado del mundo —o tal vez justo a tu lado, si tienes suerte—, está la estrella con la que estás destinado o destinada a brillar; y es normal hallar a otras estrellas en el proceso, pero estas no son más que una preparación para que madures lo suficiente para tu encuentro con esa persona. En esta época del amor y la amistad, es normal que creamos que esa persona especial es con quien estamos actualmente, pero la vida de vueltas muy crueles, aunque siempre serán por una razón. Todo tiene un motivo, y si piensan exponencialmente, lo verán en todo lo que les ocurra.</p>

      <p>&emsp;&emsp;Al terminar las vacaciones, volví a verla finalmente y mi mundo recuperó el color —aunque eso es solo una sensación, y entenderán eso mucho más adelante—. Mis vacaciones se vieron infestadas por la serpiente. La misma asquerosa antagonista de nuestro cuento de hadas —es metáfora, ¿okey? Es obvio que esto no es un cuento de hadas, y si crees que sí, ¿qué demonios has estado leyendo todo este tiempo?—.</p>

      <p>&emsp;&emsp;Días más tarde, ya en la segunda semana de clases regulares, habíamos cumplido 5 meses desde que comenzamos a salir. Fueron los más felices de ese año, incluso considerando que la serpiente aún estaba presente en mi vida. Era simple. Ella me hacía mejor persona, yo hacía lo posible para que el efecto fuese recíproco. Pero en mi caso, mientras ella me ayudaba a ver el mundo desde un nuevo y hermoso ángulo, la serpiente me despedazaba por dentro. Mi rendimiento académico decayó en comparación con el del año anterior, hasta el punto en el que mis padres comenzaron a amenazarme con sacarme del instituto si no había una mejora en mis calificaciones, insinuando que Sea era la causa de ello, pero en el fondo yo sabía que yo era el único culpable.</p>

      <p>&emsp;&emsp;Sin embargo, encontré refugio de la presión y el estrés en la música. Llevar mis audífonos puestos se había convertido en una dependencia para mí. Debía llevarlos a todos lados, porque eran un escape; un escudo de lo externo. Con el paso de los días, Spotify se convirtió en mi aplicación más utilizada, y mi lista de canciones se volvió la mejor forma de interiorizar y expresarme. Fue así como mi vida se llenó de notas y hermosas melodías.</p>

      <p>&emsp;&emsp;Pero eso no tardó en provocarme líos. Roy dejó de tenerme tanta confianza desde que comencé a estar con Sea, de modo que se hizo amigo de El Amigo Con Lentes y Cabello Alborotado —Patrick, para deshacernos ya de la incógnita y del largo y molesto sobrenombre—. Se volvieron casi tan amigos como lo solíamos ser Roy y yo. No lo malinterpreten. Me agradaba Patrick, tanto que se volvió mi segundo mejor amigo. Pero eventualmente se convirtió también en el mejor amigo de Sea —puesto que solía ser mío, pero por algún motivo que desconozco, pasó a ser de Patrick en un abrir y cerrar de ojos—. Yo no estaba celoso de él ni mucho menos, pero me inquietaba saber que, de un modo u otro, me estaba reemplazando.</p>

      <p>&emsp;&emsp;Rebecca se distanció de mí al igual que Roy; mi estrés por equilibrar a mi novia, mis amigos y familia, y lo académico me invadía día con día. Pero de nuevo, la música fue mi refugio. Y yo quería fingir que todo estaba bien. Siempre he tenido ese defecto. Pienso lo mejor de la situación y, en ocasiones no logro distinguir qué tan mal está, hasta que ya es demasiado tarde. Siempre es demasiado tarde.</p>

      <p>&emsp;&emsp;Sin embargo, yo creía que no era algo serio, ya que, lógicamente, mis amigos se distanciarían un poco cuando tuviera una relación. Pero no fue así, y no tienen una idea de lo mucho que me arrepiento de no haber hecho algo más para evitar que se alejaran. Es una de las cosas que no me he perdonado ni siquiera ahora. Tal vez podría haberles evitado sufrimiento o quizás simplemente habría sido egoísta si los hubiese obligado a quedarse a mi lado. De cualquier modo, nunca volveríamos a ser lo que fuimos, así como mañana no seremos los mismos que fuimos ayer. Porque el cambio existe, y aunque es cruel, es sano. Y me he visto obligado a soportar su voluntad durante estos últimos 4 años más que en toda mi vida. Pero está bien, todo eso está bien.</p>

      <p>&emsp;&emsp;El tiempo es despiadado, pero a la vez justo. Cura todos los males, ¿no? No. No siempre. Por desgracia, no. Y es por eso que esta historia cuenta, porque todos cometimos errores, aún lo hacemos. Hicimos lo que hicimos y fuimos lo que fuimos. Y ahora somos lo que somos, porque aprendimos de lo que hicimos y maduramos.</p>

      <p>&emsp;&emsp;Pero nunca está de más una caída. Te recuerda que eres humano y que te equivocas, porque esa es nuestra naturaleza. Es aquello que nos convierte en seres terribles y maravillosos. Es aquello por lo cual respiramos y por lo que nuestro corazón late. Esa es la enseñanza más bella que podemos aprender, a lo largo de los años, a través de las memorias y, sobre todo, de las notas que forman las melodías que nos seguirán hasta el último de nuestros días.</p>

  </div>
  <div class="col-md-12 text-center"style="z-index: 5;" align="center">
    <a class="btn btn-coffee btn-border" href="../Memoria 9/loader/index.html" style="z-index: 3; margin-left: auto;margin-bottom: 100px; outline: none;color: #800080; text-align: center;border-color: #800080;font-size:20px;">Siguiente...</a>
    <br>
    <a class="btn btn-coffee btn-border" href="../../Melodías y Memorias.php#service" style="z-index: 3; margin-left: auto;margin-top: -150px; outline: none;color: #57a639; text-align: center;border-color: #57a639;font-size:20px;">Volver al Índice</a>
  </div>

</body>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script  src="../../js/scriptread.js"></script>
  <link rel="stylesheet" href="../../css/dark.css">
    <script src="../../js/dark.js"></script>
  <script type="text/javascript">
  $(function()
{
    var playerTrack = $("#player-track"), bgArtwork = $('#bg-artwork'), bgArtworkUrl, albumName = $('#album-name'), trackName = $('#track-name'), albumArt = $('#album-art'), sArea = $('#s-area'), seekBar = $('#seek-bar'), trackTime = $('#track-time'), insTime = $('#ins-time'), sHover = $('#s-hover'), playPauseButton = $("#play-pause-button"),  i = playPauseButton.find('ion-icon'), tProgress = $('#current-time'), tTime = $('#track-length'), seekT, seekLoc, seekBarPos, cM, ctMinutes, ctSeconds, curMinutes, curSeconds, durMinutes, durSeconds, playProgress, bTime, nTime = 0, buffInterval = null, tFlag = false, albums = ['Nandemonaiya'], trackNames = ['RADWIMPS'], albumArtworks = ['_1'], trackUrl = ['memoria8.mp3'], playPreviousTrackButton = $('#play-previous'), playNextTrackButton = $('#play-next'), currIndex = -1;

    function playPause()
    {
        setTimeout(function()
        {
            if(audio.paused)
            {
                playerTrack.addClass('active');
                albumArt.addClass('active');
                checkBuffering();
                i.attr('name','pause');
                audio.play();
            }
            else
            {
                playerTrack.removeClass('active');
                albumArt.removeClass('active');
                clearInterval(buffInterval);
                albumArt.removeClass('buffering');
                i.attr('name','play-circle');
                audio.pause();
            }
        },300);
    }


	function showHover(event)
	{
		seekBarPos = sArea.offset();
		seekT = event.clientX - seekBarPos.left;
		seekLoc = audio.duration * (seekT / sArea.outerWidth());

		sHover.width(seekT);

		cM = seekLoc / 60;

		ctMinutes = Math.floor(cM);
		ctSeconds = Math.floor(seekLoc - ctMinutes * 60);

		if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

        if( (ctMinutes < 0) || (ctSeconds < 0) )
			return;

		if(ctMinutes < 10)
			ctMinutes = '0'+ctMinutes;
		if(ctSeconds < 10)
			ctSeconds = '0'+ctSeconds;

        if( isNaN(ctMinutes) || isNaN(ctSeconds) )
            insTime.text('--:--');
        else
		    insTime.text(ctMinutes+':'+ctSeconds);

		insTime.css({'left':seekT,'margin-left':'-21px'}).fadeIn(0);

	}

    function hideHover()
	{
        sHover.width(0);
        insTime.text('00:00').css({'left':'0px','margin-left':'0px'}).fadeOut(0);
    }

    function playFromClickedPos()
    {
        audio.currentTime = seekLoc;
		seekBar.width(seekT);
		hideHover();
    }

    function updateCurrTime()
	{
        nTime = new Date();
        nTime = nTime.getTime();

        if( !tFlag )
        {
            tFlag = true;
            trackTime.addClass('active');
        }

		curMinutes = Math.floor(audio.currentTime / 60);
		curSeconds = Math.floor(audio.currentTime - curMinutes * 60);

		durMinutes = Math.floor(audio.duration / 60);
		durSeconds = Math.floor(audio.duration - durMinutes * 60);

		playProgress = (audio.currentTime / audio.duration) * 100;

		if(curMinutes < 10)
			curMinutes = '0'+curMinutes;
		if(curSeconds < 10)
			curSeconds = '0'+curSeconds;

		if(durMinutes < 10)
			durMinutes = '0'+durMinutes;
		if(durSeconds < 10)
			durSeconds = '0'+durSeconds;

        if( isNaN(curMinutes) || isNaN(curSeconds) )
            tProgress.text('00:00');
        else
		    tProgress.text(curMinutes+':'+curSeconds);

        if( isNaN(durMinutes) || isNaN(durSeconds) )
            tTime.text('00:00');
        else
		    tTime.text(durMinutes+':'+durSeconds);

        if( isNaN(curMinutes) || isNaN(curSeconds) || isNaN(durMinutes) || isNaN(durSeconds) )
            trackTime.removeClass('active');
        else
            trackTime.addClass('active');


		seekBar.width(playProgress+'%');

		if( playProgress == 100 )
		{
			i.attr('name','play-circle');
			seekBar.width(0);
            tProgress.text('00:00');
            albumArt.removeClass('buffering').removeClass('active');
            clearInterval(buffInterval);
		}
    }

    function checkBuffering()
    {
        clearInterval(buffInterval);
        buffInterval = setInterval(function()
        {
            if( (nTime == 0) || (bTime - nTime) > 1000  )
                albumArt.addClass('buffering');
            else
                albumArt.removeClass('buffering');

            bTime = new Date();
            bTime = bTime.getTime();

        },100);
    }

    function selectTrack(flag)
    {
        if( flag == 0 || flag == 1 )
            ++currIndex;
        else
            --currIndex;

        if( (currIndex > -1) && (currIndex < albumArtworks.length) )
        {
            if( flag == 0 )
                i.attr('name','play-circle');
            else
            {
                albumArt.removeClass('buffering');
                i.attr('name','pause');
            }

            seekBar.width(0);
            trackTime.removeClass('active');
            tProgress.text('00:00');
            tTime.text('00:00');

            currAlbum = albums[currIndex];
            currTrackName = trackNames[currIndex];
            currArtwork = albumArtworks[currIndex];

            audio.src = trackUrl[currIndex];

            nTime = 0;
            bTime = new Date();
            bTime = bTime.getTime();

            if(flag != 0)
            {
                audio.play();
                playerTrack.addClass('active');
                albumArt.addClass('active');

                clearInterval(buffInterval);
                checkBuffering();
            }

            albumName.text(currAlbum);
            trackName.text(currTrackName);
            albumArt.find('img.active').removeClass('active');
            $('#'+currArtwork).addClass('active');

            bgArtworkUrl = $('#'+currArtwork).attr('src');

            bgArtwork.css({'background-image':'url('+bgArtworkUrl+')'});
        }
        else
        {
            if( flag == 0 || flag == 1 )
                --currIndex;
            else
                ++currIndex;
        }
    }

    function initPlayer()
	{
        audio = new Audio();

		selectTrack(0);

		audio.loop = true;

		playPauseButton.on('click',playPause);

		sArea.mousemove(function(event){ showHover(event); });

        sArea.mouseout(hideHover);

        sArea.on('click',playFromClickedPos);

        $(audio).on('timeupdate',updateCurrTime);

        playPreviousTrackButton.on('click',function(){ selectTrack(-1);} );
        playNextTrackButton.on('click',function(){ selectTrack(1);});
	}

	initPlayer();
});
  </script>
</body>
</html>
